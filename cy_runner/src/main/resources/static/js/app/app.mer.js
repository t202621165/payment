/*! For license information please see app.mer.js.LICENSE */
!function(d){function t(t){for(var e,a,i=t[0],s=t[1],n=t[2],l=0,o=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&o.push(r[a][0]),r[a]=0;for(e in s)Object.prototype.hasOwnProperty.call(s,e)&&(d[e]=s[e]);for(u&&u(t);o.length;)o.shift()();return p.push.apply(p,n||[]),c()}function c(){for(var t,e=0;e<p.length;e++){for(var a=p[e],i=!0,s=1;s<a.length;s++){var n=a[s];0!==r[n]&&(i=!1)}i&&(p.splice(e--,1),t=l(l.s=a[0]))}return t}var a={},r={0:0},p=[];function l(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return d[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=d,l.c=a,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var e=window.webpackJsonp=window.webpackJsonp||[],i=e.push.bind(e);e.push=t,e=e.slice();for(var s=0;s<e.length;s++)t(e[s]);var u=i;p.push([6,1,2]),c()}([,,function(t,e,a){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(s=window)}t.exports=s},function(t,e,a){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,a){"use strict";var i;void 0===(i=function(){var t=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089","#c23531"];return{color:t,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:t[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}}}.call(e,a,e,t))||(t.exports=i)},function(t,e,a){t.exports=a(7)},function(t,e,u){"use strict";(function(t,i,e){var a,s=u(9),n=(a=u(10))&&a.__esModule?a:{default:a};u(65),u(76),u(100),u(102),u(11),u(12);var l=u(13),o=u(14),d=u(15);t.config({debug:!1});var c=t.define({$id:"root",title:"",param:{},currPage:"",gatway:function(){i("#getway").css("display","block")},close:function(){i("#getway").css("display","none")},download:function(t){window.location.href="/mer/download_wg_"+t},reload:function(t){return this.currPage='<wbr is="ms-view" ms-widget="{path:\''+t+"?version="+(new Date).getTime()+"',content: @content}\" />",this}});n.default.init(c);var r,p={};s.routers.forEach(function(t){var e=t.hash;p[e]={title:t.title,vm:u(16)("./views"+t.path+".js"),html:u(38)("./views"+t.path+".html")}}),t.component("ms-modal",{template:l,defaults:{notice:{},close:function(){this.notice.isShow=!1}}}),t.component("ms-pagesize",{template:o,defaults:{totalElements:0,change:function(){}}}),t.component("ms-paging",{template:d,defaults:{pages:{}}}),t.component("ms-view",{template:'<div ms-html="@content" class="ms-view"></div>',defaults:{path:"",content:"",onReady:function(t){var e=t.vmodel.path.split("?")[0],a=p[e];c.title=a.title;var i=a.vm;t.vmodel.content=a.html,i.render&&"function"==typeof i.render.before&&i.render.before(c.param),"function"==typeof i.ready&&i.ready(c),"function"==typeof i.query&&i.query(c.param),"function"==typeof i.batch&&i.batch(),this.reflash()},onDispose:function(t){},reflash:function(){i._tooltip(),r&&r.destroy(),(r=new e(".clip-copy",{text:function(t){var e=t.getAttribute("data-content")||"clip-content",a=i("#"+e).text()||"";return a=a||(i("#"+t.getAttribute("data-html")).html()||i(t).prev().text()),a||""}})).on("success",function(t){i.modalload("☺ 复制成功！",100)})}}}),t.ready(function(){t.scan(document.body)})}).call(this,u(1),u(0),u(8))},,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.routers=void 0;var i=[{title:"",hash:"index",path:"/index/index"},{title:"订单管理",hash:"order",path:"/order/order"},{title:"分区管理",hash:"partition",path:"/partition/partition"},{title:"个人中心",hash:"profile",path:"/account/profile"},{title:"代理管理",hash:"agent",path:"/agent/agent"},{title:"代理管理",hash:"agent/group",path:"/agent/group"},{title:"代理管理",hash:"agent/order",path:"/agent/order"},{title:"分区模版",hash:"template",path:"/template/template"},{title:"数据统计",hash:"analyse",path:"/analyse/analyse1"},{title:"数据统计",hash:"analyse2",path:"/analyse/analyse2"},{title:"编辑模版",hash:"template/add",path:"/template/merge"},{title:"安装分区",hash:"installpar",path:"/partition/merge"},{title:"分组管理",hash:"group",path:"/group/group"},{title:"补发记录",hash:"record",path:"/reissue/record"},{title:"订单补发",hash:"reissue",path:"/reissue/reissue"},{title:"提现记录",hash:"takerecord",path:"/account/takerecord"},{title:"提现申请",hash:"takemoney",path:"/account/takemoney"},{title:"用户日志",hash:"log",path:"/account/log"},{title:"留言箱",hash:"message",path:"/index/message"},{title:"结算比率",hash:"rate",path:"/account/rate"},{title:"获取代码",hash:"code",path:"/index/code"}],s={routers:e.routers=i};e.default=s},function(t,a,e){"use strict";(function(e){function i(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=null,this.query=""}return function(t,e,a){e&&i(t.prototype,e),a&&i(t,a)}(t,[{key:"refresh",value:function(){this.menuon();var t=location.hash.slice(1),e=(t=t||"index").indexOf("?");e=e<0?t.length:e;var a=t.substr(0,e);this.query=t.substr(e+1,t.length)||"",this.root.reload(a),this.root.param=this.getQuery()}},{key:"init",value:function(t){this.root=t,window.addEventListener("load",this.refresh.bind(this),!1),window.addEventListener("hashchange",this.refresh.bind(this),!1)}},{key:"menuon",value:function(){e(".menu-c a").removeClass("on");var t=e(".menu-c a[href='"+(location.hash||"#index")+"']");t&&t.addClass("on")}},{key:"getQuery",value:function(){if(!this.query)return{};var t=this.query.match(new RegExp("[?&]?[^?&]+=[^?&]+","g"));if(!t)return{};var e={};for(var a in t){var i=t[a].toString().split("=");e[i[0].replace("&","")]=i[1]}return e}}]),t}());a.default=t}).call(this,e(0))},function(module,exports,__webpack_require__){"use strict";(function(jQuery){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function($){var _ajax=$.ajax;$.ajax=function(t){var e=$.extend({},$.ajax.fn,t);_ajax(e)},$.ajax.fn={type:"POST",ele:"",isDis:!0,load:!0,error:function(t,e,a){$.modalmsg("系统异常！","danger")},beforeSend:function(t){this.load&&$(".load-box").css("display","block"),event&&this.isDis&&(this.ele=$(event.target),this.ele.attr("disabled",!0))},complete:function(t,e){this.load&&$(".load-box").css("display","none"),this.isDis&&this.ele&&this.ele.attr("disabled",!1),this.render&&this.render()}},$.fn.combobox=function(t){var n=$(this);if(!(n.length<=0)&&t&&"object"==_typeof(t)){var l=$.extend({},$.fn.combobox._defaults,t),e=l.url;e&&$.getJSON(e,l.param,function(e){if(e){l.isDefault||(n.empty(),n.append("<option value=''>"+l.placeholder+"</option>")),$.each(e,function(t,e){var a=e[l.valueField],i=$("<option>").attr("data-index",t).val(l.valuePrefix+a).text(e[l.textField]),s=l.selectedVal;s&&a==s&&i.prop("selected",!0),n.append(i)});var a=l.change;a&&"function"==typeof a&&(l.execute&&a(e,n),n.on("change",function(t){a(e,$(t.target))}))}})}},$.fn.combobox._defaults={url:null,param:null,textField:"name",valueField:"id",selectedVal:"",valuePrefix:"",placeholder:"-请选择-",change:null};var _tooltip=$("<div>").addClass("tooltip-title").append($("<div>").addClass("tooltip-content")).append($("<div>").addClass("tooltip-arrow")).css("display","none");$._tooltip=function(){$(".tooltip-title").remove(),$("[data-tooltip-title]").on("mouseout",function(){$(".tooltip-title").remove()}),$("[data-tooltip-title]").on("mouseover",function(){var t=$(this).attr("data-tooltip-title");if(t){_tooltip.appendTo(document.body).find(".tooltip-content").text(t);var e=$(this).offset().left+parseInt($(this).css("width"))/2-parseInt($(_tooltip).css("width"))/2+"px",a=$(this).offset().top+parseInt($(this).css("height"))/2+parseInt($(_tooltip).css("height"))/2+12+"px";_tooltip.css("left",e).css("top",a).css("display","block")}})},$.modalmsg=function(t,e){$(".tooltip-msg").remove();var a=$("<div>").addClass("tooltip-msg");e&&a.addClass(e),$("<div>").addClass("tooltip-content").append(t).appendTo(a),a.appendTo(document.body),setTimeout(function(){a.animate({opacity:"0"},500,function(){a.remove()})},1e3)},$.modalload=function(t,e,a){$(".tooltip-msg").remove();var i=$("<div>").addClass("tooltip-msg");$("<div>").addClass("tooltip-content").append(t).appendTo(i),i.appendTo(document.body),setTimeout(function(){i.animate({opacity:"0"},1e3,function(){i.remove(),a&&a()})},e||600)};var _modalbox=$("<div>").addClass("modal-box").append($("<div>").addClass("modal-box-title").append($("<span class='title'></span>")).append($("<span class='modal-close'>×</span>"))).append($("<div>").addClass("modal-box-body").append($("<div>").addClass("modal-box-content")).append($("<div>").addClass("modal-box-footer").append($("<button>").attr("id","confirm").addClass("btn").text("确定")).append($("<button>").attr("id","cancel").addClass("btn btn-danger").text("取消")))),_shade=$("<div>").addClass("modal-shade");$.modalbox=function(t,e){_modalbox.removeClass("modal-dialog"),e&&_modalbox.addClass("modal-dialog"),_modalbox.find(".title").text(t&&t.title?t.title:"确认信息？"),_modalbox.find(".modal-box-content").empty().append(t&&t.content?t.content:"请确认当前操作！"),_modalbox.find("#confirm").on("click",function(){var a=!0;t.validate&&_modalbox.find("[name]").each(function(t,e){if(!e.value)return $.modalmsg("不能为空！","top-200"),e.focus(),a=!1}),a&&t&&t.yes&&t.yes(_modalbox.find("[name]").serialize())&&$(this).parents(".modal-shade").remove()}),_modalbox.find(".modal-close").on("click",function(){$(this).parents(".modal-shade").remove()}),_modalbox.find("#cancel").on("click",function(){$(this).parents(".modal-shade").remove(),t&&t.no&&t.no()}),_shade.append(_modalbox).appendTo(document.body)},$.confirm=function(t){$.modalbox(t,!0)},$.fn.formvalidate=function(option,modaltype){var _form=$(this),forms=_form.find("[data-rule]"),isDynamic=option.isDynamic;console.log(forms.length,option.isDynamic);for(var rules=[],i=0;i<forms.length;i++){var rule=eval("("+$(forms[i]).attr("data-rule")+")");for(var it in rule)attribute[it]&&rules.push(validators($(forms[i]),rule[it],it));isDynamic||$(forms[i]).removeAttr("data-rule")}return _form.find("#form-commit").off().on("click",function(){for(var t in rules)if(!rules[t].validate(modaltype))return;var e=$(this);e.attr("disabled",!0),"object"===_typeof(option)&&option.render&&option.render(_form.serialize(),function(){e.attr("disabled",!1)},forms),"function"==typeof option&&option(_form.serialize(),function(){e.attr("disabled",!1)},forms)}),{id:_form.attr("id"),forms:forms}};var validators=function(t,e,a){return $.extend({element:t,rule:e,validate:function(t){if(this.before&&this.before())return!0;var e=this.element.attr("data-rule-msg");return this.regExp&&this.regExp.test(this.element.val())?!this.around||(!!this.around()||(this.element.focus(),$.modalmsg(e||this.message,t||""),!1)):!(!this.after||!this.after())||(this.element.focus(),void $.modalmsg(e||this.message,t||""))}},attribute[a])},attribute={account:{regExp:/^\w+$/,message:"请输入数字、字母或下划线！",around:function(){if(this.rule instanceof Array){var t=this.element.val().length;return!(t<this.rule[0])&&!(this.rule[1]&&this.rule[1]>this.rule[0]&&t>this.rule[1])}}},pwd:{regExp:/^\w{6,20}$/,message:"密码由6~20个英文字母、数字和下划线组成！"},length:{message:"",after:function(){if(this.rule instanceof Array){var t=this.element.val().length;return t<this.rule[0]?(this.message="输入不能低于"+this.rule[0]+"个字符！",!1):!(this.rule[1]&&this.rule[1]>this.rule[0]&&t>this.rule[1])||(this.message="输入不能超过"+this.rule[0]+"个字符！",!1)}}},qqnumber:{regExp:/^[1-9]\d{4,}$/,message:"QQ：5-11位非0开头！",before:function(){if(!this.rule&&""==this.element.val())return!0}},phonenumber:{regExp:/^1[345789]\d{9}$/,message:"手机号码输入有误！",before:function(){if(!this.rule&&""==this.element.val())return!0}},equalto:{regExp:null,message:"两次输入不一致！",after:function(){if(this.rule&&this.element.val()==$("#"+this.rule).val())return!0}},digits:{regExp:/^[1-9]\d*$/,message:"请输入整数！",around:function(){if(this.rule instanceof Array){if(this.element.val()<this.rule[0])return this.message="不能小于"+this.rule[0]+"！",!1;if(this.element.val()>this.rule[1])return this.message="不能大于"+this.rule[1]+"！",!1}return!0}},required:{message:"不能为空！",after:function(){if(!this.rule||""!=this.element.val())return!0}},ip:{regExp:/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)*$/,message:"请输入有效的IP！"}}}(jQuery)}).call(this,__webpack_require__(0))},function(t,e,a){"use strict";(function(s,t){function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var e;e="undefined"!=typeof window?window:void 0,void 0!==t&&function(t,o){var e=function(t,s){return{message:t,get:function(t,e,a){var i=s.test(t);return a(i),t}}},a={tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["订单笔数","支付金额","商户利润"]},xAxis:[{type:"category",data:[]}],yAxis:[{type:"value",name:"订单",axisLabel:{formatter:"{value} 单"}},{type:"value",name:"金额",axisLabel:{formatter:"{value} 元"}}],series:[{name:"订单笔数",type:"line",yAxisIndex:0,itemStyle:{normal:{label:{show:!0}}},data:[]},{name:"支付金额",type:"bar",yAxisIndex:1,data:[],itemStyle:{barBorderRadius:5}},{name:"商户利润",type:"bar",yAxisIndex:1,data:[],itemStyle:{barBorderRadius:5}}]};o.getEcharBarOption=function(){return a};var i=t.location.protocol+"//"+t.location.host;o.getCurrentHost=function(t){return i+(t||"")},void 0!==s&&(s.filters.truncateTail=function(t,e,a){var i=Number(e)+Number(a)+3,s=t.length;return s<=i?t:t.slice(0,e)+"..."+t.slice(s-a,s)},s.filters.truncateStart=function(t,e){var a=t.length;return a<=e?t:t.slice(0,e)},s.filters.truncateEnd=function(t,e){var a=t.length;return a<=e?t:t.slice(a-e)},s.filters.isNull=function(t){return""==t||null==t},s.filters.parseNull=function(t,e){return t||e||""},s.filters.compareToNowDate=function(t,e,a){return t>(new Date).format("yyyy-MM-dd HH:mm:ss")?e:a},s.filters.dateNotNull=function(t,e){return t?s.filters.date(t,e||"yyyy-MM-dd HH:mm:ss"):"--"},s.validators.notnull={message:"不能为空!",get:function(t,e,a){var i=t&&"null"!==t;return a(i),t}},s.validators.qqnumber=e("QQ：5-11位非0开头！",/^[1-9]\d{4,}$/),s.validators.phonenumber=e("手机号码输入有误！",/^1[345789]\d{9}$/),s.validators.account=e("请输入数字、字母或下划线！",/^\w+$/)),Date.prototype.format=function(t){var e=(t=t||"yyyy-MM-dd HH:mm:ss").replace(/yyyy|YYYY/,this.getFullYear());e=e.replace(/yy|YY/,9<this.getYear()%100?(this.getYear()%100).toString():"0"+this.getYear()%100);var a=this.getMonth()+1;return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/MM/,9<a?a.toString():"0"+a)).replace(/M/g,a)).replace(/w|W/g,["日","一","二","三","四","五","六"][this.getDay()])).replace(/dd|DD/,9<this.getDate()?this.getDate().toString():"0"+this.getDate())).replace(/d|D/g,this.getDate())).replace(/hh|HH/,9<this.getHours()?this.getHours().toString():"0"+this.getHours())).replace(/h|H/g,this.getHours())).replace(/mm/,9<this.getMinutes()?this.getMinutes().toString():"0"+this.getMinutes())).replace(/m/g,this.getMinutes())).replace(/ss|SS/,9<this.getSeconds()?this.getSeconds().toString():"0"+this.getSeconds())).replace(/s|S/g,this.getSeconds())},o.fn.extend({previousDay:function(t){var e=o(this).val().replace(/-/g,":").replace(" ",":");e=e.split(":");var a=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]),i=new Date,e=a.getTime();isNaN(e)||(i=new Date(e-864e5));var s=i.format(t);return o(this).val(s),s},today:function(t){var e=(new Date).format(t);return o(this).val(e),e},nextDay:function(t){var e=o(this).val().replace(/-/g,":").replace(" ",":");e=e.split(":");var a=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]),i=new Date,e=a.getTime();if(!isNaN(e)&&(i=new Date(e+864e5),(new Date).toDateString()==i.toDateString())){var s=i.format(t);return o(this).val(s),!0}var s=i.format(t);return o(this).val(s),!1},dropdown:function(t){t.stopPropagation(),"true"==o(this).attr("data-on")?o(this).attr("data-on",!1).parent().removeClass("on"):(o(".btn-list.on").removeClass("on").find("a").attr("data-on",!1),o(this).attr("data-on",!0).parent().addClass("on")),o(document).off().on("click",function(){0<o(".btn-list.on").length&&o(".btn-list.on").removeClass("on").find("a").attr("data-on",!1)})}}),o.paging=function(t,n){n=n||{};var l=s.define({$id:t,isToday:!0,url:n.url,param:{},render:{},data:{number:-1,totalPages:0,totalElements:0},item:{},query:function(){n.batchs&&(o(".batch-check tr").find(":first .label-box input").prop("checked",!1),o(".cy-batchs").prop("disabled",!0)),o("[name=number]").val(this.data.number),this.param=o("#cy-paging-search").serialize();var e=this;o.ajax({url:e.url||t+"/list",data:e.param,success:function(t){e.data=t,"function"==typeof n.custom&&n.custom(t)}})},first:function(){0<this.data.number?this.change():o.modalmsg&&o.modalmsg("当前已是第一页！")},prev:function(){0<this.data.number?this.data.number--:this.data.number=this.data.totalPages-1,this.query()},next:function(){this.data.number<this.data.totalPages-1?this.data.number++:this.data.number=0,this.query()},last:function(){this.data.number<this.data.totalPages-1?(this.data.number=this.data.totalPages-1,this.query()):o.modalmsg&&o.modalmsg("当前已是最后一页！")},jump:function(){var t=o("#jumpto").val();t&&!isNaN(t)?0<=--t&&t<this.data.totalPages?(this.data.number=t,this.query()):(o("#jumpto").focus(),o.modalmsg&&o.modalmsg("不可超过当前最大页数！","danger")):(o("#jumpto").focus(),o.modalmsg&&o.modalmsg("请输入有效页数！","danger"))},pages:function(t){var e={};return e.number=this.data.number,e.totalPages=this.data.totalPages,e.first=this.first,e.prev=this.prev,e.next=this.next,e.last=this.last,e.jump=this.jump,e.colum=t||0,e},checkAll:function(t){void 0!==t.target.checked&&(o("tbody.batch-check tr").find(":first .label-box input").prop("checked",t.target.checked),o(".cy-batchs").prop("disabled",!t.target.checked))},checkOne:function(t){var e=o("tbody.batch-check tr").find(":first .label-box input:checked").length,a=!0;0<e&&(a=!1),o("thead.batch-check tr").find(":first .label-box input").prop("checked",!a),o(".cy-batchs").prop("disabled",a)},ready:function(){if(this.initDate(),o(".Wdate").on("click",function(){WdatePicker&&WdatePicker({el:this})}),o("#detail .modal-close").on("click",function(){o("#detail").css("display","none")}),n.comboboxs instanceof Array)for(var t in n.comboboxs){var e=n.comboboxs[t];o("#"+e).combobox({url:e+"/list"})}this.batch()},batch:function(){if(n.batchs){var i=this;o(".cy-batchs.cy-on").off().on("click",function(){var t=o(this).attr("data-url"),e=o(this).attr("data-batch");if(t&&e){var a=i[e]||i.render[e];a&&a(t)}})}},batchDel:function(t){var e=this.change,a=o("tbody.batch-check tr").find(":first input:checked");t&&0<a.length&&o.confirm({content:"删除后数据将无法恢复，是否确定？",yes:function(){return o.ajax({url:t,data:a.serialize(),load:!1,success:function(t){o.modalmsg(t.msg),t.state&&e()}}),!0}})},change:function(){this.data.number=0,this.query()},checkNav:function(t){o(".nav a").removeClass("active"),o(t.target).addClass("active"),o("[name="+o(t.target).attr("data-nav-name")+"]").val(o(t.target).attr("data-nav-value")),this.change()},initDate:function(){o("#startDate").today("yyyy-MM-dd 00:00:00"),o("#nowDate").today(),o("#endDate").today("yyyy-MM-dd 23:59:59")},previousDay:function(){this.isToday=!1,o("#startDate").previousDay("yyyy-MM-dd 00:00:00"),o("#endDate").previousDay("yyyy-MM-dd 23:59:59"),this.change()},today:function(){this.isToday=!0,o("#startDate").today("yyyy-MM-dd 00:00:00"),o("#endDate").today("yyyy-MM-dd 23:59:59"),this.change()},nextDay:function(t){this.isToday||(this.isToday=o("#startDate").nextDay("yyyy-MM-dd 00:00:00"),o("#endDate").nextDay("yyyy-MM-dd 23:59:59"),this.change())},dele:function(t){t&&n.dele&&o.confirm({content:n.dele.content||"删除后数据将无法恢复，是否确定？",yes:function(){return n.dele.url&&o.ajax({url:n.dele.url,load:!1,data:{id:t},success:function(t){o.modalmsg(t.msg),t.state&&l.query()}}),!0}})},state:function(t,e){if(t&&n.state){var a=o(e.currentTarget),i="checked"===a.find("input").attr("class"),s=n.state;s.id=t,s.url&&o.ajax({url:s.url,load:!1,data:{id:t},success:function(t){t.state?(a.find("input").attr("class",i?"":"checked"),s.msg&&o.modalmsg(i?s.msg[1]:s.msg[0])):o.modalmsg(t.msg,"danger"),s.isCallback&&l.query()}})}}});return"object"===d(n)&&o.extend(l.render,n),l},o.customPage=function(n){var t=s.define({$id:n.id,param:null,data:{number:-1,totalPages:0,totalElements:0,size:10},tabData:null,isAgency:!1,query:function(){this.param=o(n.form).serialize();var e=this;o.ajax({url:n.url,data:e.param,success:function(t){t&&(e.data.content=t,n.render?n.render(t):e.tab())}})},tab:function(){this.data.number=0,this.data.totalElements=this.data.content.length,this.page()},page:function(){var t=this.data.content,e=[],a=this.data.size*this.data.number,i=this.data.size*(this.data.number+1);this.data.totalPages=Math.ceil(this.data.content.length/this.data.size),i=i>t.length?t.length:i;for(var s=a;s<i;s++)n.page?e.push(n.page(t[s],s)):e.push(t[s]);this.tabData=e},first:function(){this.data.number=0,this.page()},prev:function(){0<this.data.number?this.data.number--:this.data.number=this.data.totalPages-1,this.page()},next:function(){this.data.number<this.data.totalPages-1?this.data.number++:this.data.number=0,this.page()},last:function(){this.data.number=this.data.totalPages-1,this.page()},change:function(t){this.data.number=0,this.data.size=o("#pageSize").val(),this.page()},jump:function(){var t=o("#jumpto").val();t&&!isNaN(t)&&0<=--t&&t<this.data.totalPages?(this.data.number=t,this.page()):o("#jumpto").focus()}});t.query()}}(e,t)}).call(this,a(1),a(0))},function(t,e){t.exports='<div class="modal-shade" ms-visible="@notice.isShow"> <div class="modal-box"> <div class="modal-box-title"><span :text="@notice.name"></span><span class="modal-close" :click="@close">×</span></div> <div class="modal-box-body"> <div class="modal-box-content" style="width:650px;min-height:290px;text-align:left;padding:0 20px 10px"> <h4 class="text-black text-center h3" :text="@notice.title"></h4> <div class="text-center" style="border-bottom:1px #ccc solid;padding:5px 0;margin-bottom:6px"> <span class="text-black" :text="@notice.date|date(\'yyyy-MM-dd HH:mm:ss\')"></span> </div> <div class="col-xs-1" :html="@notice.content"></div> </div> </div> </div> </div>'},function(t,e){t.exports='<caption class="text-left"> <input type="hidden" name="number" value="0"> <span>共 <b :text="@totalElements|number(0)">0</b>条，显示&nbsp;</span> <select id="pageSize" name="pageSize" :change="@change"> <option value="10">10</option> <option value="20">20</option> <option value="30">30</option> <option value="50">50</option> <option value="100">100</option> </select>&nbsp;条结果 </caption>'},function(t,e){t.exports='<tfoot> <tr> <th :attr="{colspan:@pages.colum}" class="text-right no-font"> <div class="page-option"> <a class="btn-paging" href="javascript:;" :click="@pages.first"> <i class="sy"></i> </a> <a class="btn-paging" href="javascript:;" :click="@pages.prev"> <i class="syy"></i> </a> <span :text="@pages.number + 1 + \'/\' + @pages.totalPages">0/0</span> <a class="btn-paging" href="javascript:;" :click="@pages.next"> <i class="xyy"></i> </a> <a class="btn-paging" href="javascript:;" :click="@pages.last"> <i class="wy"></i> </a> <input id="jumpto" class="paging" type="text" placeholder="0"> <a class="btn-paging no-margin" href="javascript:;" :click="@pages.jump">GO</a> </div> </th> </tr> </tfoot>'},function(t,e,a){var i={"./views/account/log.js":17,"./views/account/profile.js":18,"./views/account/rate.js":19,"./views/account/takemoney.js":20,"./views/account/takerecord.js":21,"./views/agent/agent.js":22,"./views/agent/group.js":23,"./views/agent/order.js":24,"./views/analyse/analyse1.js":25,"./views/analyse/analyse2.js":26,"./views/group/group.js":27,"./views/index/code.js":28,"./views/index/index.js":29,"./views/index/message.js":30,"./views/order/order.js":31,"./views/partition/merge.js":32,"./views/partition/partition.js":33,"./views/reissue/record.js":34,"./views/reissue/reissue.js":35,"./views/template/merge.js":36,"./views/template/template.js":37};function s(t){var e=n(t);return a(e)}function n(t){if(a.o(i,t))return i[t];var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}s.keys=function(){return Object.keys(i)},s.resolve=n,(t.exports=s).id=16},function(t,e,a){"use strict";(function(e){var a=e.paging("log",{clean:function(){e.confirm({content:"是否确定清除日志？",yes:function(){return e.ajax({url:"log/clean",success:function(t){e.modalmsg(t.msg),t.state&&a.query()}}),!0}})}});t.exports=a}).call(this,a(0))},function(a,t,e){"use strict";(function(t,i){var e=t.define({$id:"profile",data:{},ready:function(){this.getData(),this.onSwitch()},getData:function(){var e=this;i.ajax({url:"profiles",success:function(t){e.data=t,e.render()}})},render:function(){var t=this.data;i("#form-bank").formvalidate(function(t,e){i.ajax({url:"bind_bank",data:t,success:function(t){i.modalmsg(t.msg,t.state?"":"danger"),t.state&&window.location.reload()}})}),i("#subscription").on("click",function(){i("#qrcode").css("display","block").find("img").attr("src","/assets/images/web/gzh_ewm.jpg"),i("#qrcode-close").off().on("click",function(){i("#qrcode").css("display","none")})}),t.merchant.wechatInfo||(i("#binding").on("click",function(){i("#qrcode").css("display","block").find("img").attr("src","/mer/qrcode-wechat");var e=setInterval(function(){i.ajax({url:"/mer/wechatInfo",success:function(t){t&&(i("#qrcode").css("display","none"),i.modalload("微信账号绑定成功！",1e3,function(){window.location.reload()}),clearInterval(e))}})},5e3);i("#qrcode-close").off().on("click",function(){i("#qrcode").css("display","none"),clearInterval(e)})}),i("#form-infos").formvalidate(function(t,e){i.ajax({url:"profile/service-info",data:t,success:function(t){i.modalmsg(t.msg,t.state?"":"danger"),t.state&&window.location.reload()}})}));var e=i("#infos");i("#serviceInfo").on("click",function(){i("[name=servicePhone]").val(i("#servicePhone").text().replace("--","")),i("[name=serviceQQ]").val(i("#serviceQQ").text().replace("--","")),e.css("display","block")}),i(".close-curr").on("click",function(){i(this).parents(".modal-shade").css("display","none")})},onSwitch:function(){i("[data-type]").on("click",function(){var e=i(this),t=i(this).attr("data-type"),a="checked"===e.find("input").attr("class");i.ajax({url:"switch",data:{type:t},success:function(t){t.state&&e.find("input").attr("class",a?"":"checked"),i.modalmsg(t.msg,t.state?"":"danger")}})})}});a.exports=e}).call(this,e(1),e(0))},function(a,t,e){"use strict";(function(t){var e=t.define({$id:"merproduct",data:[]});a.exports=e}).call(this,e(1))},function(a,t,e){"use strict";(function(t){var e=t.define({$id:"bankInfo",url:"takemoney",data:{amount:""}});a.exports=e}).call(this,e(1))},function(s,t,e){"use strict";(function(e){var a,t=e.paging("take",{detail:(a=function(t){detail.data=t,e("#detail").css("display","block")},i.toString=function(){return a.toString()},i)});function i(t){return a.apply(this,arguments)}s.exports=t}).call(this,e(0))},function(e,t,a){"use strict";(function(a){var t=a.paging("agent",{merge:function(){merchant.show=!0,merchant.data.callback=this.callback,a("#merchant").css("display","block")},state:{isCallback:!0,url:"agent/merchant/state"},dele:{url:"agent/merchant/delete"},login:function(t){a.ajax({url:"agent/login",data:{id:t},success:function(t){a.modalmsg(t.msg),t.state&&(window.location.href="/mer/index.html")}})},rate:function(t){var e=a(window.event.target).val();e&&a.ajax({url:"agent/merchant/rank",load:!1,data:{id:t,rankId:e},success:function(t){a.modalmsg(t.msg)}})}});e.exports=t}).call(this,a(0))},function(e,t,a){"use strict";(function(i){var t=i.paging("agent/group",{merge:function(e){var a=this.callback;e=e||{id:"",name:""},i.ajax({url:"rate",data:{id:e.id},success:function(t){t&&(rate.show=!0,rate.data.rate=t.type0,rate.data.size=t.showSize,rate.data.banks=t.type1,rate.data.group=e,rate.data.callback=a,i("#rankRate").css("display",""))}})},setDefault:function(t){i.ajax({url:"group/default",data:{id:t},success:function(t){i.modalmsg(t.msg)}})}});e.exports=t}).call(this,a(0))},function(s,t,e){"use strict";(function(e){var a,t=e.paging("agent/order",{detail:(a=function(t){1==t.state?(t.status="成　功",t.clazz="text-success"):2==t.state?(t.status="待发送",t.clazz="text-primary"):(t.status="待付款",t.clazz="text-danger"),detail.data=t,e.ajax({load:!1,url:"/mer/order/detail",data:{id:t.id},success:function(t){t&&(detail.detail=t,e("#detail").css("display","block"))}})},i.toString=function(){return a.toString()},i)});function i(t){return a.apply(this,arguments)}s.exports=t}).call(this,e(0))},function(t,e,a){"use strict";(function(i,e,a){var s=i.paging("analyse",{url:"pay",myChart:{},custom:function(t){var e=s.render.myChart||this.initChart(),a=Object.assign({},i.getEcharBarOption());a.xAxis[0].data=t[4],a.series[0].data=t[0],a.series[1].data=t[1],a.series[2].data=t[2],e.hideLoading(),e.setOption(a)},before:function(t){this.initChart().showLoading();var e=t.mark,a=t.type||"pay";e?(i("[data-mark="+t.mark+"]").addClass("active"),s.url="analyse/list"):(s.url="analyse/"+a,i("[data-type="+a+"]").addClass("active")),i("#mark").val(e||a),this.onChange(),i("#partition").combobox({isDefault:!0,url:"partition/list"})},initChart:function(){var t=e.init(document.getElementById("main"),a);return i("#main").css("width","100%"),t.resize(),i(window).on("resize",function(){t.resize()}),this.myChart=t},onChange:function(){i("li.analyse").off().on("click",function(){i("li.active").removeClass("active"),i(this).addClass("active");var t=i(this).attr("data-mark");t?(s.url="analyse/list",i("#mark").val(t)):s.url="analyse/"+i(this).attr("data-type")||!1,s.query()})}});t.exports=s}).call(this,a(0),a(4),a(5))},function(a,t,e){"use strict";(function(e){var t=e.paging("analyse2",{url:"analyse/list",before:function(t){e("#partition").combobox({isDefault:!0,url:"/partition/list"}),e("#mark").val(t.mark)}});a.exports=t}).call(this,e(0))},function(e,t,a){"use strict";(function(a){var t=a.paging("group",{merge:function(t){var e=[];t&&e.push({hide:!0,type:0,name:"id",value:t.id||""}),e.push({type:0,title:"分组名称",name:"name",value:t.name||""}),a._merge({title:(t?"编辑":"添加")+"游戏分组",forms:e,url:"group/add",render:this.callback})},dele:{url:"group/delete"},recharge:function(t){window.open(a("#line").val()+"/pay/partition_g/"+a(t.target).attr("data-uuid"))}});e.exports=t}).call(this,a(0))},function(a,t,e){"use strict";(function(t,i){var e=t.define({$id:"code",data:{merchant:{}},code:{status:0,style:1,img:1},ipsCode:"",loggerCode:"",isShow:function(t){i("#float-code").css("display",1==t?"block":"none")},ready:function(){this.getData(),i("#group").combobox({isDefault:!0,url:"group/list",valueField:"uuid",valuePrefix:"_g/",change:function(t,e){e.val()&&(i(".uuid").text("/pay/partition"+e.val()),i("#payurls").attr("href","payurls"+e.val()))}}),i("#line").combobox({isDefault:!0,url:"line",valueField:"domainName",execute:!0,change:function(t,e){e.val()&&i(".domainName").text(e.val())}}),this.onSwitch()},getData:function(){var e=this;i.ajax({url:"code",success:function(t){Object.assign(e.data,t),e.ipsCode="<script type='text/javascript'>var path = '%3Cscript type=\"text/javascript\" src=\""+i.getCurrentHost("/mer/flow/record?u="+t.merchant.uuid)+"&c='+escape(document.referrer)+'\"%3E%3C/script%3E';document.write(unescape(path));<\/script>",e.loggerCode="<script type='text/javascript' src='"+i.getCurrentHost("/mer/game/record?u="+t.merchant.uuid)+"'><\/script>"}})},onSwitch:function(){i("[data-type]").on("click",function(){var e=i(this),t=i(this).attr("data-type"),a="checked"===e.find("input").attr("class");i.ajax({url:"switch",data:{type:t},success:function(t){t.state&&e.find("input").attr("class",a?"":"checked"),i.modalmsg(t.msg,t.state?"":"danger")}})})}});a.exports=e}).call(this,e(1),e(0))},function(a,t,e){"use strict";(function(t,s,i,n){var e=t.define({$id:"index",title:"首页",data:{},notice:{isShow:!1,name:"公告详情",title:"",date:new Date,content:""},reg:new RegExp("\r\n","g"),noticeDetail:function(t){this.notice.isShow=!1;var e=this.data.notice[t];e&&(this.notice.title=e.title,this.notice.date=e.date,this.notice.content=e.content.replace(this.reg,"<br>"),this.notice.isShow=!0)},ready:function(){this.getData(),this.charts(),this.onSwitch(),this.changePWD(),this.noticeScroll()},onSwitch:function(){s("[data-type]").on("click",function(){var e=s(this),t=s(this).attr("data-type"),a="checked"===e.find("input").attr("class");s.ajax({url:"switch",data:{type:t},success:function(t){t.state&&e.find("input").attr("class",a?"":"checked"),s.modalmsg(t.msg,t.state?"":"danger")}})})},changePWD:function(){var i=s("#pwd-modal");s("#changepwd").formvalidate(function(t,e,a){s.ajax({url:"profile/password",data:t,success:function(t){e(),t.state?(s.modalmsg("密码修改成功，下次访问请使用新密码登录！","top-200"),i.css("display","none"),a.val("")):(s.modalmsg(t.msg,"danger top-200"),t.ele&&s("[name="+t.ele+"]").focus())}})},"top-200"),s("#password").on("click",function(){i.css("display","block")}),s(".pwd-close").on("click",function(){i.css("display","none")})},noticeScroll:function(){var t,e=s("#notice");1<e.find("li").length&&e.hover(function(){clearInterval(t)},function(){t=setInterval(function(){var t=e.find("li:first");t.animate({"margin-top":"-18px"},1e3,function(){t.css({"margin-top":"0px"}).appendTo(e)})},5e3)}).trigger("mouseout")},getData:function(){var a=this;s.ajax({url:"homedata",success:function(t){a.data=t;var e=s.getCurrentHost("/mer/register?uuid="+t.merchant.uuid);s("#clip-content").text(e),s("a#current-host").attr("href",e)}})},charts:function(){var e=i.init(document.getElementById("main"),n);e.showLoading(),s("#main").css("width","100%"),e.resize(),s(window).on("resize",function(){e.resize()});var a=s.extend({},s.getEcharBarOption());s.ajax({url:"analyse/day",success:function(t){e.hideLoading(),t&&(a.xAxis[0].data=t[4],a.series[0].data=t[0],a.series[1].data=t[1],a.series[2].data=t[2],e.setOption(a))}})}});a.exports=e}).call(this,e(1),e(0),e(4),e(5))},function(e,t,a){"use strict";(function(t){var a=t.paging("message",{dele:{url:"message/delete"},batchs:!0,detail:function(e){e.state||t.ajax({url:"message/state",data:{id:e.id},load:!1,success:function(t){e.state=!0}}),a.item.isShow=!1,a.item.title="【玩家帐号】："+e.account,a.item.date=e.leaveDate,a.item.content=e.content,a.item.isShow=!0}});a.item={isShow:!1,name:"留言详情",title:"",date:new Date,content:""},e.exports=a}).call(this,a(0))},function(t,e,a){"use strict";(function(a){var i=a.paging("order",{states:[{clazz:"danger",content:"待付款"},{clazz:"",content:"成　功"},{clazz:"primary",content:"待发送"}],before:function(t){t.state&&(a(".nav a").removeClass("active"),a(".nav a[data-nav-value="+t.state+"]").addClass("active"),a("[name=state]").val(t.state))},detail:function(e){a.ajax({load:!1,url:"order/detail",data:{id:e.id},success:function(t){i.item=Object.assign(t,e),a("#detail").css("display","block")}})},reissue:function(t){2==t.state&&a.ajax({url:"order/reissue",load:!1,data:{id:t.id},success:function(t){a.modalmsg(t.msg,t.state?"":"danger"),t.state&&(a("#detail").css("display","none"),i.query())}})},comboboxs:["group","partition","product"]});t.exports=i}).call(this,a(0))},function(s,t,e){"use strict";(function(t,i){var a={name:"",type:1,useName:"",useDate:(new Date).format("yyyy-MM-dd HH:mm:ss"),templateId:"1",scriptPath:"D:/MirServer",ybEgg:!1,isCreate:!0,noticeState:!1,notice:"",serverIp:"",serverPort:"6880",dbInfos:{type:"0",ip:"",port:"",user:"",pwd:"",sql:""},webUrl:"",successMark:"success",dataFormat:"orderNumber=订单号&playerAccount=玩家账号&payType=支付方式&currencyName=游戏币&payMoney=实际支付金额&finalMoney=赠送后金额&ratio=兑换比例&sign=MD5(订单号&玩家账号&支付方式&游戏币&实际支付金额&赠送后金额&兑换比例&签名密钥)"},e=t.define({$id:"partition_edit",data:a,groups:[],isAdd:!0,isClone:!1,ready:function(t){var e=i("#partition_edit").find("[data-rule], [required]");console.log("[save]: ",e.length),t.param.id&&(t.title="编辑分区");var a=this;i.getJSON("groups",{id:t.param.id||null},function(t){a.groups=t||[]}),i("#template").combobox({isDefault:!0,url:"template/list"})},query:function(t){if(t&&t.id){var e=this;i.ajax({data:t||{},url:"partition",success:function(t){e.isAdd=!t,e.data=t||a}})}else this.isAdd=!0,a.useDate=(new Date).format("yyyy-MM-dd HH:mm:ss"),this.data=a;this.save()},save:function(t){i("#partition_edit").formvalidate({isDynamic:!0,render:function(t,e,a){i.ajax({url:"partition/add",data:t,success:function(t){e(),i.modalmsg(t.msg),t.ele&&i("[name="+t.ele+"]").focus()}})}})},saveas:function(t){var e=i("#partition_edit").find("[data-rule]");console.log("[clone]: ",e.length)}});s.exports=e}).call(this,e(1),e(0))},function(t,e,a){"use strict";(function(i){var e=i.paging("partition",{batchs:!0,state:{url:"partition/state",msg:["分区启用成功","已禁用当前分区"]},dele:{url:"partition/delete",content:"删除分区将导致充值无法完成！"},check:function(t){4!=t.type?i.ajax({url:"partition/check",data:{id:t.id},success:function(t){i.modalmsg(t.msg)}}):i.modalmsg("当前分区暂不支持检测分区！")},batchSort:function(){var t=i("tbody tr").find("td:eq(0) input:checked"),a="";t.each(function(t,e){a+="&sort="+i(e).parents("tr").find("input[name=sort]").val()}),0<t.length&&i.ajax({url:"partition/sort",load:!1,isDis:!1,data:t.serialize()+a,success:function(t){t.state&&e.query(),i.modalmsg(t.msg)}})},load:function(t){1==t.type||2==t.type?i.ajax({url:"partition/load",data:{id:t.id},success:function(t){i.modalmsg(t.msg)}}):i.modalmsg("当前分区暂不支持加载分区！")},recharge:function(t){window.open(i("#line").val()+"/pay/recharge/"+i(t.target).attr("data-uuid"))},comboboxs:["group","template"]});t.exports=e}).call(this,a(0))},function(a,t,e){"use strict";(function(t){var e=t.paging("reissue");a.exports=e}).call(this,e(0))},function(a,t,e){"use strict";(function(t){var e=t.paging("job",{});a.exports=e}).call(this,e(0))},function(i,t,e){"use strict";(function(t,a){var e=t.define({$id:"template/add",data:{},postData:function(t){var e=this;a.ajax({type:"get",data:t||{},url:"http://127.0.0.1/api/1",success:function(t){e.data=t}})}});i.exports=e}).call(this,e(1),e(0))},function(a,t,e){"use strict";(function(t){var e=t.paging("template",{state:{url:"template/state",msg:["已开启充值赠送","充值赠送已关闭"]},dele:{url:"template/delete"}});a.exports=e}).call(this,e(0))},function(t,e,a){var i={"./views/account/log.html":39,"./views/account/profile.html":40,"./views/account/rate.html":43,"./views/account/takemoney.html":44,"./views/account/takerecord.html":45,"./views/account/wechat.html":46,"./views/agent/agent.html":47,"./views/agent/group.html":48,"./views/agent/order.html":49,"./views/analyse/analyse1.html":50,"./views/analyse/analyse2.html":51,"./views/analyse/ips.html":52,"./views/group/group.html":53,"./views/index/code.html":54,"./views/index/index.html":55,"./views/index/message.html":56,"./views/index/payurls.html":57,"./views/order/order.html":58,"./views/partition/merge.html":59,"./views/partition/partition.html":60,"./views/reissue/record.html":61,"./views/reissue/reissue.html":62,"./views/template/merge.html":63,"./views/template/template.html":64};function s(t){var e=n(t);return a(e)}function n(t){if(a.o(i,t))return i[t];var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}s.keys=function(){return Object.keys(i)},s.resolve=n,(t.exports=s).id=38},function(t,e){t.exports='<form id="cy-paging-search" :controller="log"> <div class="load-box spa"></div> <div class="cxl_tiXian"> <p>注意事项：1. 为保证更好的用户体验，请不定期的清理您的访问日志。</p> <p>　　　　　2. 日志清除功能会保留您最近三天内的操作日志。</p> <button type="button" class="btn" style="position:absolute;right:5px;bottom:5px" :click="@render.clean">清除日志</button> </div> <div class="content-body no-padding" id="table-content-ie" style="margin-top:20px"> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead> <tr> <th>日　期</th> <th>日志记录</th> <th>访问IP</th> <th>描述</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.dateTime | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.dateTime | date(\'HH:mm:ss\')"></p> </td> <td :text="@item.discription"></td> <td :text="@item.ip"></td> <td class="text-green" :text="@item.message"></td> </tr> <tr :if="@data.totalElements < 1"><td colspan="4">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(4)}"/> </table> </div> </form>'},function(t,e,a){t.exports='<div class="content-body no-padding" :controller="profile"> <div class="col-xs-1" th:object="${merchant}"> <h3 class="text-aqua block"> 基本信息 <button id="serviceInfo" class="btn btn-min btn-primary no-margin pull-right" data-tooltip-title="点击编辑账户信息">编辑</button> </h3> <div class="profile-body"> <div class="profile-row"> <div class="profile-title no-border"> 昵　称 </div> <div class="profile-content no-border" :text="@data.merchant.nickname|parseNull(\'--\')"></div> </div> <div class="profile-row"> <div class="profile-title"> 账　号 </div> <div class="profile-content" :text="@data.merchant.account"></div> </div> <div class="profile-row"> <div class="profile-title"> 结算类型 </div> <div class="profile-content" :text="@data.merchant.settlementType==1?\'T+1\':\'T+0\'"></div> </div> <div class="profile-row"> <div class="profile-title"> 联系ＱＱ </div> <div class="profile-content" :text="@data.merchant.qqNumber|parseNull(\'--\')"></div> </div> <div class="profile-row"> <div class="profile-title"> 联系电话 </div> <div class="profile-content" :text="@data.merchant.phoneNumber|parseNull(\'--\')"></div> </div> <div class="profile-row"> <div class="profile-title"> 注册时间 </div> <div class="profile-content" :text="@data.merchant.joinDate|dateNotNull"></div> </div> <div class="profile-row"> <div class="profile-title"> 最后登录 </div> <div class="profile-content" :text="@data.merchant.finalDate|dateNotNull"></div> </div> <div class="profile-row"> <div class="profile-title"> 商户标识 </div> <div class="profile-content" :text="@data.merchant.uuid"></div> </div> <div class="profile-row"> <div class="profile-title"> 通讯密钥 </div> <div class="profile-content text-right"> <span id="secret-key" class="pull-left" :text="@data.merchant.secretKey"></span> <button id="secretKey" class="btn btn-min btn-primary no-margin" data-tooltip-title="点击更换网关通讯密钥">更换</button> </div> </div> </div> </div> <div class="col-xs-1"> <h3 class="text-aqua"> 在线客服 <label for="serviceState" class="label-box no-margin pull-right"> <input id="serviceState" type="checkbox" data-type="1" :duplex-checked="@data.merchant.serviceState"/> <span class="box-switch" data-tooltip-title="开启/关闭在线客服"><i></i></span> </label> </h3> <div class="profile-body"> <div class="profile-row"> <div class="profile-title no-border"> 客服电话 </div> <div id="servicePhone" class="profile-content no-border" :text="@data.merchant.servicePhone|parseNull(\'--\')"> </div> </div> <div class="profile-row"> <div class="profile-title"> 客服ＱＱ </div> <div id="serviceQQ" class="profile-content" :text="@data.merchant.serviceQQ|parseNull(\'--\')"></div> </div> </div> </div> <div class="col-xs-1"> <h3 class="text-aqua">服务绑定</h3> <div class="profile-body"> <div class="profile-row"> <div class="profile-title no-border no-padding"> <div class="binding-title"> <img alt="微信" src="'+a(41)+'"> </div> <span style="line-height:40px;margin-right:10px">微信</span> </div> <div class="profile-content no-border binding-info"> <span class="text-success" :text="@data.merchant.wechatInfo?@data.merchant.wechatInfo.nickname:\'未绑定\'"></span> <img :if="@data.merchant.wechatInfo" class="pull-right wechat-icon" :attr="{src: @data.merchant.wechatInfo.headimgurl,\'data-tooltip-title\':\'绑定时间：\'}"/> <a :if="!@data.merchant.wechatInfo" id="binding" class="line link pull-right" href="javascript:;" data-tooltip-title="点击绑定微信账号">绑定</a> </div> </div> </div> <p>注：更多精彩内容请关注平台 <a id="subscription" class="line link" href="javascript:;">微信公众号</a>，我们将在第一时间为您推送平台最新消息！</p> </div> <div class="col-xs-1"> <h3 class="text-aqua"> 账户信息<button onclick=\'window.location.hash="#/takemoney"\' class="btn btn-min btn-danger no-margin pull-right">提现</button> </h3> <div class="bank-info" :class="@data.bank.state?\'\':\'frozen\'"> <span :if="!@data.bank.state" class="frozen-icon"></span> <div style="display:none" :if="@data.bank.activated" :css="{display: @data.bank.activated?\'block\':\'none\'}"> <div> <img :attr="{src:\'/assets/images/mark/\'+@data.bank.bankMark+\'.png\'}"> <span style="float:right;margin-top:30px">开户地区/分行：<b class="font-default" style="font-size:18px" :text="@data.bank.bankBranch"></b></span> </div> <div class="bank-number"> <span :text="@data.bank.bankNumber|truncateStart(4)"></span> <span class="bank-important"> **** **** **** </span> <span :text="@data.bank.bankNumber|truncateEnd(3)"></span> </div> <div class="bank-content"> <table class="col-xs-1"> <tr> <td> 可用余额(元) <span class="bank-amount" :text="@data.bank.overMoney|number(2)"></span> </td> <td> 总收入(元) <span class="bank-amount text-aqua" :text="\'+\'+@data.bank.allDeposit|number(2)"></span> </td> <td> 总支出(元) <span class="bank-amount text-red" :text="\'-\'+@data.bank.allPay|number(2)"></span> </td> <td> 开户人： <span :text="@data.bank.realName"></span> </td> </tr> </table> </div> </div> <div style="display:none" :if="!@data.bank.activated" :css="{display: @data.bank.activated?\'none\':\'block\'}"> <form id="form-bank"> <input type="hidden" th:field="*{id}"> <div class="node-info"> <div class="node-info-name">开户银行：</div> <div class="node-info-value form"> <select class="form-control" name="bankMark" data-rule="{required: true}"> <option value="">-请选择-</option> <option :for="item in @data.banks" :attr="{value: @item.mark}" :text="@item.name"></option> </select> <p>其他银行，请联系管理员添加</p> </div> </div> <div class="node-info"> <div class="node-info-name">　开户人：</div> <div class="node-info-value form"> <input class="form-control" name="realName" data-rule="{required: true}" placeholder="请输入开户人姓名" maxlength="5"> </div> </div> <div class="node-info"> <div class="node-info-name">银行卡号：</div> <div class="node-info-value form"> <input class="form-control" name="bankNumber" data-rule="{required: true}" placeholder="请输入银行卡号" maxlength="20"> </div> </div> <div class="node-info"> <div class="node-info-name">所在地区：</div> <div class="node-info-value form"> <input class="form-control" name="bankBranch" data-rule="{required: true}" placeholder="请输入开户银行所在地区" maxlength="20"> <p>开户银行所在地区、分行</p> </div> </div> <div class="node-info"> <div class="node-info-name">&nbsp;</div> <div class="node-info-value no-font"> <button id="form-commit" type="button" class="btn btn-large">保　存</button> </div> </div> </form> </div> </div> </div> <div id="qrcode" class="modal-shade" style="display:none"> <div class="modal-box modal-qrcode"> <div class="modal-qrcode-title"> <strong>使用微信扫一扫</strong> <a id="qrcode-close" href="javascript:;" data-tooltip-title="点击关闭"></a> </div> <img src="'+a(42)+'"> </div> </div> <div id="infos" class="modal-shade" style="display:none"> <form id="form-infos"> <div class="modal-box"> <div class="modal-box-title"> <span class="title">添加商户</span> <span class="modal-close close-curr">×</span> </div> <div class="modal-box-body"> <div class="modal-box-content"> <div class="form-line"> <span class="form-title">客服电话：</span> <input class="form-control" type="text" name="servicePhone" placeholder="请输入客服电话" data-rule="{required: true}"> </div> <div class="form-line"> <span class="form-title">客服QQ：</span> <input class="form-control" type="text" name="serviceQQ" placeholder="请输入客服QQ" data-rules="{required: true}"> </div> </div> <div class="modal-box-footer"> <button id="form-commit" type="button" class="btn">确定</button> <button type="button" class="btn btn-danger close-curr">取消</button> </div> </div> </div> </form> </div> </div>'},function(t,e,a){t.exports=a.p+"images/mer/bind_weixin.png"},function(t,e,a){t.exports=a.p+"images/mer/gzh_ewm.jpg"},function(t,e){t.exports='<form id="search" :controller="merproduct"> <div class="load-box spa"></div> <div class="content-body no-padding" id="table-content-ie"> <table class="table table-hover"> <thead :skip="true"> <tr> <th>#</th> <th>产品名称</th> <th>结算费率(%)</th> <th>状态</th> <th th:if="${false}">排序</th> </tr> </thead> <tbody> <tr th:if="${!#lists.isEmpty(products)}" th:each="item, itemState:${products}"> <td th:text="${itemState.index + 1}"></td> <td th:text="${item.productName}"></td> <td th:text="${item.rate}"></td> <td> <label th:if="${item.pType == 0}" th:for="${\'serviceState\'+itemState.index}" class="label-box no-margin no-float"> <input th:id="${\'serviceState\'+itemState.index}" class="switch" type="checkbox" th:value="${item.productId}" th:checked="${item.state}"/> <span class="box-switch"><i></i></span> </label> <span th:if="${item.pType == 1}">--</span> </td> <td th:if="${false}"> <input class="form-control text-center sort" type="text" th:id="${item.productId}" size="1" th:attr="data-sort=${item.sort}" th:value="${item.sort}"> </td> </tr> </tbody> </table> </div> </form>'},function(t,e){t.exports='<div class="content-body no-padding"> <div class="cxl_tiXian"> <p>提现声明：请不要同一天内屡次小额提现，这种情况属于恶意提现，以免财务结算时产生错误对你造成损失。</p> <p>到账时间：特殊情况除外，如超过12小时不到账，请与客服联系。</p> <p>注意事项：系统结算时间内，提现功能暂不可使用。</p> <a href="#/takerecord" class="btn btn-primary" style="position:absolute;right:5px;top:105px">查看提现记录</a> </div> <form :controller="bankInfo" :validate="@validate"> <table id="take-money" th:object="${bank}"> <tbody :skip="true"> <tr th:if="*{state}"> <th>账户余额：</th> <td class="text-green"> <span class="h3"> <span th:if="*{state}" th:text="*{overMoney}"></span> 元 </span> </td> </tr> <tr th:if="*{frozen > 0 or !state}"> <th>冻结金额：</th> <td class="text-gray h3"> <s th:text="*{state?frozen:overMoney}"></s> 元 <span th:if="*{!state}" class="lable lable-right danger" style="margin-left:15px">已冻结</span> </td> </tr> <tr> <th>手续费：</th> <td class="text-red h3"> <span th:text="*{fee}"></span> 元 </td> </tr> <tr> <th>银行：</th> <td th:text="*{bankName}"></td> </tr> <tr> <th>收款人：</th> <td th:text="*{realName}"></td> </tr> <tr> <th>银行账号：</th> <td> <span th:text="*{bankNumber}"> **** **** **** **** *** </span> </td> </tr> </tbody> <tfoot> <tr> <th>申请金额：</th> <td> <input name="amount" type="text" class="form-control" autofocus="autofocus" style="width:100px" placeholder="输入金额" :duplex="@data.amount" th:attr="ms-rules=\'{number: true,min: 1,max: \'+*{overMoney-frozen-fee}+\'}\'" th:readonly="*{!state or (overMoney-frozen) <= fee}"> <span th:if="*{overMoney-frozen > fee}" class="text-aqua">(≤ <span th:text="*{state?overMoney-frozen-fee:0.00}"></span> 元)</span> <span th:unless="*{overMoney-frozen > fee}" class="text-red">&nbsp;可提现金额不足！</span> </td> </tr> <tr> <td></td> <td> <button id="takeMoney" type="button" class="btn" th:attr="ms-on-click=*{state and overMoney > fee}?\'@save\':\'\'" th:disabled="*{!state or overMoney <= fee}">确定提现</button> </td> </tr> </tfoot> </table> </form> </div> '},function(t,e){t.exports='<form id="cy-paging-search" :controller="take"> <div class="load-box spa"></div> <input name="state" type="hidden" value=""> <div class="content-body"> <div class="search"> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">开始时间</span> <input id="startDate" name="startDate" class="form-control Wdate" type="text" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">结束时间</span> <input id="endDate" name="endDate" class="form-control Wdate" type="text" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">提现金额</span> <input name="useAmount" class="form-control input-sub" type="text" placeholder="0"> <span class="input-group-addon2">-</span> <input name="amount" class="form-control input-sub" type="text" placeholder="999."> </div> </div> <div class="col-xs-4"> <button type="button" class="btn" :click="@query">查询</button> </div> </div> </div> <div class="content-body no-padding" id="table-content-ie"> <ul class="nav no-padding"> <li><a data-nav-name="state" data-nav-value="" href="javascript:;" :click="@checkNav" class="tab active">全　部</a></li> <li><a data-nav-name="state" data-nav-value="1" href="javascript:;" :click="@checkNav" class="tab">成　功</a></li> <li><a data-nav-name="state" data-nav-value="3" href="javascript:;" :click="@checkNav" class="tab">付款中</a></li> <li><a data-nav-name="state" data-nav-value="0" href="javascript:;" :click="@checkNav" class="tab">审核中</a></li> <li><a data-nav-name="state" data-nav-value="2" href="javascript:;" :click="@checkNav" class="tab">待付款</a></li> <li><a data-nav-name="state" data-nav-value="-1" href="javascript:;" :click="@checkNav" class="tab">审核失败</a></li> <li><a data-nav-name="state" data-nav-value="-2" href="javascript:;" :click="@checkNav" class="tab">拒绝付款</a></li> </ul> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>申请时间</th> <th>流水号</th> <th>结算银行</th> <th>提现金额</th> <th>手续费</th> <th>描述</th> <th>订单状态</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.applyDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.applyDate | date(\'HH:mm:ss\')"></p> </td> <td> <a href="javascript:;" class="link tooltips-bottom" data-tooltips="点击查看详情" :click="@render.detail(@item)" :text="@item.serialNumber"></a> </td> <td :text="@item.bankName"></td> <td :text="@item.amount|number(2)"></td> <td :text="@item.fee|number(2)"></td> <td :text="@item.discription"></td> <td> <span :if="@item.state==0" class="lable lable-right orange">审核中</span> <span :if="@item.state==1" class="lable lable-right">成　功</span> <span :if="@item.state==3" class="lable lable-right green">付款中</span> <span :if="@item.state==2" class="lable lable-right primary">待付款</span> <span :if="@item.state==-1" class="lable lable-right gray">审核失败</span> <span :if="@item.state==-2" class="lable lable-right danger">拒绝付款</span> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="7">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(7)}"/> </table> </div> </form> <div class="modal-shade" id="detail" :controller="detail" style="display:none"> <div class="modal-box" style="width:500px;height:312px"> <div class="modal-box-title"> <span>提现详情</span> <span class="modal-close" id="close-detail">×</span> </div> <div class="modal-box-body"> <div class="modal-box-content"> <div class="profile-body"> <div class="profile-row"> <div class="profile-title no-border">流水号</div> <div class="profile-content no-border" :text="@data.serialNumber"></div> </div> <div class="profile-row"> <div class="profile-title">进度</div> <div class="profile-content"> <span :if="@data.state==0" class="lable lable-right orange">审核中</span> <span :if="@data.state==1" class="lable lable-right">成　功</span> <span :if="@data.state==2" class="lable lable-right primary">待付款</span> <span :if="@data.state==3" class="lable lable-right green">付款中</span> <span :if="@data.state==-1" class="lable lable-right gray">审核失败</span> <span :if="@data.state==-2" class="lable lable-right danger">拒绝付款</span> </div> </div> <div class="profile-row"> <div class="profile-title">收款人</div> <div class="profile-content" :text="@data.realName"></div> </div> <div class="profile-row"> <div class="profile-title">收款银行</div> <div class="profile-content" :text="@data.bankName"></div> </div> <div class="profile-row"> <div class="profile-title">收款账号</div> <div class="profile-content" :text="@data.bankNumber"></div> </div> <div class="profile-row"> <div class="profile-title">支出金额</div> <div class="profile-content text-green h3" :text="(@data.amount + @data.fee)|number(2)"></div> </div> <div class="profile-row"> <div class="profile-title">描　　述</div> <div class="profile-content" :text="@data.discription"></div> </div> </div> </div> </div> </div> </div>'},function(t,e){t.exports='<!doctype html> <html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml"> <head> <title>微信账户绑定</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0"> <link rel="stylesheet" type="text/css" href="https://res.wx.qq.com/open/libs/weui/0.4.1/weui.css"> </head> <body> <div class="weui_msg"> <div class="weui_icon_area"> <i class="weui_icon_msg" th:classappend="${state ? \'weui_icon_success\' : \'weui_icon_warn\'}"></i> </div> <div class="weui_text_area"> <h4 class="weui_msg_title" th:text="${content}"></h4> </div> <div class="weui_text_area"> <a href="/mer/login" class="weui_btn weui_btn_primary">点击前往平台首页</a> </div> </div> </body> </html>'},function(t,e){t.exports='<div class="form-heading"> <ul> <li class="active"><a href="#/agent">下属商户</a></li> <li><a href="#/agent/order">代理订单</a></li> <li><a href="#/agent/group">用户分组</a></li> </ul> </div> <form id="cy-paging-search" :controller="agent"> <div class="content-body no-padding" id="table-content-ie" style="margin-top:10px"> <div class="load-box"></div> <a class="btn btn-success pull-right" href="javascript:;" style="margin:0 0 5px" :click="@merge">添加商户</a> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>注册时间</th> <th>昵称</th> <th>账号</th> <th class="hide-980">分区个数</th> <th>联系QQ</th> <th>结算类型</th> <th class="hide-980">最后登陆</th> <th>状态</th> <th>比率组</th> <th>操作</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.joinDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.joinDate | date(\'HH:mm:ss\')"></p> </td> <td :text="@item.nickname"></td> <td :text="@item.account"></td> <td :text="@item.partitionCount" class="hide-980"></td> <td :text="@item.qqNumber"></td> <td :text="@item.settlementType==0?\'T+0\':\'T+1\'"></td> <td class="hide-980"> <p class="tab-p-heard" :text="@item.finalDate | dateNotNull(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.finalDate | dateNotNull(\'HH:mm:ss\')"></p> </td> <td> <label :if="@item.state != 2" :attr="{for:\'switch-\'+$index}" class="label-box no-margin no-float"> <input :attr="{id:\'switch-\'+$index}" type="checkbox" :duplex-checked="@item.state==1" :click="@state(@item.id)"/> <span class="box-switch"><i></i></span> </label> <button type="button" :if="@item.state==2" class="btn btn-min btn-primary" :click="@state(@item.id)">激活</button> </td> <td> <select id="" class="form-control" style="width:100px" :duplex="@item.rankId" :change="@render.rate(@item.id)"> <option value="">--请选择--</option> </select> </td> <td> <div class="btn-group hide-768"> <a class="btn btn-min" href="javascript:;" :click="@render.login(@item.id)">登录</a> <a class="btn btn-min btn-danger" href="javascript:;" :click="@dele(@item.id)">删除</a> </div> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="10">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(10)}"/> </table> </div> </form> <div class="modal-shade" style="display:none" id="merchant" :controller="merchant" :if="@show"> <form :validate="@validate"> <div class="modal-box"> <div class="modal-box-title"> <span class="title">添加商户</span> <span class="modal-close" :click="@close">×</span> </div> <div class="modal-box-body"> <div class="modal-box-content"> <div class="form-line"> <span class="form-title">用户昵称：</span> <input class="form-control" type="text" name="nickname" placeholder="请输入用户昵称" :duplex="@data.mer.nickname" :rules="{required: true, maxlength: 8}"> </div> <div class="form-line"> <span class="form-title">用户名：</span> <input class="form-control" type="text" name="account" placeholder="请输入用户名" :duplex="@data.mer.account" :rules="{required: true, maxlength: 10}"> </div> <div class="form-line"> <span class="form-title">登录密码：</span> <input class="form-control" type="text" name="password" placeholder="请输入登录密码" :duplex="@data.mer.password" :rules="{required: true, maxlength: 16}"> </div> <div class="form-line"> <span class="form-title">联系QQ：</span> <input class="form-control" type="text" name="qqNumber" placeholder="请输入联系QQ" :duplex="@data.mer.qqNumber" :rules="{qqnumber: true}"> </div> <div class="form-line"> <span class="form-title">联系电话：</span> <input class="form-control" type="text" name="phoneNumber" placeholder="请输入联系电话" :duplex="@data.mer.phoneNumber" :rules="{required: true, maxlength: 20}"> </div> <div class="form-line"> <span class="form-title">比率组：</span> <select class="form-control" name="rank.id" style="width:214px" :duplex="@data.mer.rankId" :rules="{notnull: true}"> <option value="">--请选择--</option> <option th:each="item:${ranks}" th:value="${item.id}" th:text="${item.name}"></option> </select> </div> </div> <div class="modal-box-footer"> <button type="button" class="btn" :click="@save">确定</button> <button type="button" class="btn btn-danger" :click="@close">取消</button> </div> </div> </div> </form> </div> '},function(t,e){t.exports='<div class="form-heading"> <ul> <li><a href="#/agent" class="tab">下属商户</a></li> <li><a href="#/agent/order" class="tab">代理订单</a></li> <li class="active"><a href="#/agent/group" class="tab">用户分组</a></li> </ul> </div> <form id="cy-paging-search" :controller="agent/group"> <div class="content-body" id="table-content-ie"> <a class="btn btn-success pull-right" href="javascript:;" style="margin:0 0 5px" :click="@merge(\'\')">添加分组</a> <table class="table table-hover"> <thead :skip="true"> <tr> <th>#</th> <th>默认</th> <th>分组名称</th> <th>用户个数</th> <th>创建时间</th> <th>操作</th> </tr> </thead> <tbody :if="@data.totalElements > 0"> <tr :for="($index, item) in @data.content"> <td :text="$index + 1"></td> <td> <label :attr="{for:\'idDefault\'+$index}" class="label-box checkbox2 no-float"> <input :attr="{id:\'idDefault\'+$index}" type="radio" name="isDefault" value="true" :click="@render.setDefault(@item.id)" :duplex="@item.isDefault"> <i class="radio default"></i> </label> </td> <td :text="@item.name"></td> <td :text="@item.merchantCount"></td> <td> <p class="tab-p-heard" :text="@item.createDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.createDate | date(\'HH:mm:ss\')"></p> </td> <td> <div class="btn-group"> <button class="btn btn-min" :click="@merge(@item)">编辑</button> <button class="btn btn-min btn-danger" type="button" :attr="{disabled: @item.merchantCount>0}" :click="@item.merchantCount>0?\'\':@render.dele(@item.id)">删除</button> </div> </td> </tr> </tbody> <tr :if="@data.totalElements < 1"><td colspan="6">暂无记录！</td></tr> </table> </div> </form> <div class="modal-shade" style="display:none" id="rankRate" :controller="rankRate" :if="@show"> <div class="modal-box"> <div class="modal-box-title"> <span class="title">编辑分组</span> <span class="modal-close" :click="@close">×</span> </div> <form :validate="@validate"> <div class="modal-box-body"> <div class="modal-box-content"> <table style="width:740px;height:206px"> <tr> <td colspan="2"> <input type="hidden" name="id" :duplex="@data.group.id"> 分组名称：<input type="text" class="form-control" name="name" placeholder="请输入分组名称" :duplex="@data.group.name|parseNull" :rules="{required: true}"> </td> <td> 一键设置：<input type="text" class="form-control" style="width:70px" :input="@oneKeySet"> </td> </tr> <tr :for="($index, item) in @data.rate"> <td :for="($index2, item2) in @item" class="text-right"> <span :text="@item2.name+\'：\'"></span> <input type="hidden" :attr="{name: \'rates[\'+(3*$index+$index2)+\'].product.id\'}" :duplex="@item2.id"> <input :if="@item2.type==0" type="text" class="form-control" data-rate :attr="{name: \'rates[\'+(3*$index+$index2)+\'].rate\'}" placeholder="未设置" style="width:70px" :duplex="@item2.rate1|parseNull" :rules="{number: true, min: 0, max: @item2.rate2}"> <input :if="@item2.type==2" type="text" class="form-control" data-rate :attr="{name: \'rates[\'+(3*$index+$index2)+\'].rate\'}" placeholder="未设置" style="width:70px" :duplex="@item2.rate1|parseNull" :rules="{number: true, min: 0, max: @item2.rate2}" :input="@data.bankRate"> <span :if="@item2.rate2 > 0"> &nbsp;≤&nbsp;<span :text="@item2.rate2|number(2)"></span> </span> </td> </tr> <tr :visible="false" id="banks"> <td :for="($index, item) in @data.banks" class="text-right"> <span :text="@item.name+\'：\'"></span> <input type="hidden" :attr="{name: \'rates[\'+(@data.size+$index)+\'].product.id\'}" :duplex="@item.id"> <input type="text" class="form-control" data-rate :attr="{name: \'rates[\'+(@data.size+$index)+\'].rate\'}" placeholder="未设置" style="width:70px" :duplex="@item.rate1|parseNull" :rules="{number: true, min: 0, max: @item.rate2}"> <span :if="@item.rate2 > 0"> &nbsp;≤&nbsp;<span :text="@item.rate2|number(2)"></span> </span> </td> </tr> </table> </div> <div class="modal-box-footer"> <button type="button" class="btn" :click="@save">确定</button> <button type="button" class="btn btn-danger" :click="@close">取消</button> </div> </div> </form> </div> </div> '},function(t,e){t.exports='<div class="form-heading"> <ul> <li><a href="#/agent" class="tab">下属商户</a></li> <li class="active"><a href="#/agent/order" class="tab">代理订单</a></li> <li><a href="#/agent/group" class="tab">用户分组</a></li> </ul> </div> <form id="cy-paging-search" :controller="agent/order"> <div class="load-box spa"></div> <div class="content-body" style="margin-top:10px"> <div class="search"> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">开始时间</span> <input id="startDate" name="orderDate" class="form-control Wdate" type="text" th:value="${#dates.format(new java.util.Date().getTime(), \'yyyy-MM-dd 00:00:00\')}" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">结束时间</span> <input id="endDate" name="payDate" class="form-control Wdate" type="text" th:value="${#dates.format(new java.util.Date().getTime(), \'yyyy-MM-dd HH:mm:ss\')}" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">订单号</span> <input name="orderNumber" class="form-control" type="text" placeholder="请输入订单号"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">游戏账号</span> <input id="input_ie" name="playerAccount" class="form-control" type="text" placeholder="请输入游戏账号"> </div> </div> <div class="col-xs-4"> <div class="input-group" id="input-group-ie"> <span class="input-group-addon">支付方式</span> <div class="input-group-select"> <select id="product" name="product.id" class="form-control"> <option value="">-请选择-</option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">下属商户</span> <div class="input-group-select"> <select name="agent.id" class="form-control"> <option value="">-请选择-</option> <option th:each="item:${merchant}" th:value="${item.id}" th:text="${item.nickname}"></option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">订单状态</span> <div class="input-group-select"> <select name="state" class="form-control" :change="@change"> <option value="">-请选择-</option> <option value="1">成　功</option> <option value="2">待发送</option> <option value="0">待付款</option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">订单金额</span> <input name="amount" class="form-control input-sub" type="text" placeholder="0"> <span class="input-group-addon2">-</span> <input name="payAmount" class="form-control input-sub" type="text" placeholder="999."> </div> </div> </div> <div class="col-xs-1 text-center no-font"> <a class="btn btn-success" href="javascript:;" :click="@previousDay">上一天</a> <a class="btn" href="javascript:;" :click="@today">今天</a> <a class="btn btn-success" href="javascript:;" :click="@nextDay">下一天</a> <a class="btn" href="javascript:;" :click="@query">查询</a> </div> </div> <div class="col-xs-1 col-total"> <table class="table-total"> <tr> <th></th> <th>订单总金额</th> <th>支付金额</th> <th>代理总利润</th> <th>待付款</th> </tr> <tr class="yesterday"> <th class="text-right" style="width:110px">昨日此时充值：</th> <td :text="@data.yesterday.amount|number(2)">0.00</td> <td :text="@data.yesterday.payAmount|number(2)">0.00</td> <td :text="@data.yesterday.agentProfit|number(2)">0.00</td> <td :text="(@data.yesterday.amount-@data.yesterday.payAmount)|number(2)">0.00</td> </tr> <tr class="terday"> <th class="text-right">充值金额统计：</th> <td :text="@data.terday.amount|number(2)">0.00</td> <td :text="@data.terday.payAmount|number(2)">0.00</td> <td class="text-success">+<span :text="@data.yesterday.agentProfit|number(2)">0.00</span></td> <td :text="(@data.terday.amount-@data.terday.payAmount)|number(2)">0.00</td> </tr> </table> </div> <div class="content-body no-padding" id="table-content-ie"> <div class="progress" data-tooltip-title="订单成功率" :attr="{\'data-percent\': @data.terday.successRate+\'%\'}"> <div class="progress-bar" :css="{width: @data.terday.successRate+\'%\'}"></div> </div> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>创建时间</th> <th>订单号</th> <th>充值账号</th> <th>订单金额</th> <th class="text-success">代理利润</th> <th>所属分区</th> <th>充值方式</th> <th>订单状态</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.orderDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.orderDate | date(\'HH:mm:ss\')"></p> </td> <td> <a href="javascript:;" data-tooltip-title="点击查看订单详情" :click="@render.detail(@item)" class="link" :text="@item.orderNumber"></a> </td> <td :text="@item.playerAccount"></td> <td :text="@item.amount|number(2)"></td> <td :text="@item.agentProfit|number(2)" class="text-success"></td> <td :text="@item.partitionName"></td> <td :text="@item.productName"></td> <td> <span :if="@item.state==0" class="lable lable-right danger">待付款</span> <span :if="@item.state==1" class="lable lable-right">成　功</span> <span :if="@item.state==2" class="lable lable-right primary">待发送</span> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="8">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(8)}"/> </table> </div> </form> <div class="modal-shade" id="detail" :controller="detail" style="display:none"> <div class="modal-box"> <div class="modal-box-title">订单详情<span class="modal-close" id="close-detail">×</span></div> <div class="modal-box-body"> <div class="modal-box-content"> <table> <tbody> <tr> <th>订单号</th> <td :text="@data.orderNumber"></td> <th>支付方式</th> <td :text="@data.productName"></td> </tr> <tr> <th>玩家账号</th> <td :text="@data.playerAccount"></td> <th>游戏分区</th> <td :text="@data.partitionName"></td> </tr> <tr> <th>订单金额</th> <td :text="@data.amount|number(2)"></td> <th>下单时间</th> <td :text="@data.orderDate|date(\'yyyy-MM-dd HH:mm:ss\')"></td> </tr> <tr> <th>付款金额</th> <td :text="@detail.payAmount|number(2)"></td> <th>付款时间</th> <td :text="@detail.payDate|dateNotNull(\'yyyy-MM-dd HH:mm:ss\')"></td> </tr> <tr> <th>赠送金额</th> <td :text="@detail.giveAmount|number(2)"></td> <th>玩家ＱＱ</th> <td :text="@detail.playerQQ|parseNull(\'--\')"></td> </tr> <tr> <th>玩家ＩＰ</th> <td :text="@detail.playerIp"></td> <th>订单状态</th> <td :class="@data.clazz" :text="@data.status"></td> </tr> <tr> <th>下发道具</th> <td colspan="3" :text="@detail.remarks|parseNull(\'--\')"></td> </tr> </tbody> </table> </div> </div> </div> </div>'},function(t,e){t.exports='<div class="form-heading"> <ul> <li class="analyse" data-type="pay"> <a href="#analyse?type=pay">充值统计</a> </li> <li class="analyse" data-type="hour"> <a href="#analyse?type=hour">时段统计</a> </li> <li class="analyse" data-mark="partition"> <a href="#analyse?mark=partition">分区统计</a> </li> <li class="analyse" data-mark="group"> <a href="#analyse?mark=group">分组统计</a> </li> <li class="analyse" data-mark="rank"> <a href="#analyse?mark=rank">充值排行</a> </li> <li> <a href="#analyse?mark=rank">IPS统计</a> </li> </ul> </div> <div class="content-body" :controller="analyse"> <div class="col-xs-1 pull-left" style="margin-bottom:40px;z-index:1"> <form id="cy-paging-search"> <input id="mark" type="hidden" name="mark" value="partition"> <table class="pull-left"> <tbody> <tr> <td>日　期：</td> <td><input id="startDate" name="orderDate" class="form-control Wdate" type="text" style="width:200px" placeholder="-年-月-日  --:--:--" readonly="readonly"></td> <td th:if="${type==1}">&nbsp;至&nbsp;</td> <td th:if="${type==1}"><input id="endDate" name="payDate" class="form-control Wdate" type="text" style="width:200px" placeholder="-年-月-日  --:--:--" readonly="readonly"></td> <td th:if="${!#lists.isEmpty(partition)}" :if="!@isAgency"> <select id="partition" name="partition.id" class="form-control"> <option value="">-所有分区-</option> </select> </td> <td shiro:hasrole="agency" :if="@isAgency" style="display:none" :css="{display: @isAgency?\'\':\'none\'}"> <select name="merchant.id" class="form-control" style="height:30px"> <option value="">-全部商户-</option> </select> </td> <td><button type="button" class="btn" :click="@query">查询</button></td> </tr> </tbody> </table> <table class="pull-right" shiro:hasrole="agency"> <tr> <th>代理统计：</th> <td> <label for="isAgency" class="label-box no-margin"> <input id="isAgency" name="isAgency" type="checkbox" :duplex-checked="@isAgency" :click="@query"/> <span class="box-switch"><i></i></span> </label> </td> </tr> </table> </form> </div> <div id="main" style="height:400px"></div> </div>'},function(t,e){t.exports='<div class="form-heading"> <ul> <li> <a href="#/analyse">充值统计</a> </li> <li> <a href="#/analyse?type=hour">时段统计</a> </li> <li> <a href="#/analyse">分区统计</a> </li> <li> <a href="#/analyse?mark=group">分组统计</a> </li> <li> <a href="#/analyse?mark=rank">充值排行</a> </li> <li> <a href="#/analyse?mark=rank">IPS统计</a> </li> </ul> </div> <div class="content-body" :controller="analyse2"> <div class="col-xs-1 pull-left" style="margin-bottom:40px;z-index:1"> <form id="cy-paging-search"> <input id="mark" type="hidden" name="mark" value="partition"> <table class="pull-left"> <tbody> <tr> <td>日　期：</td> <td><input id="startDate" name="orderDate" class="form-control Wdate" type="text" style="width:200px" placeholder="-年-月-日  --:--:--" readonly="readonly"></td> <td th:if="${type==1}">&nbsp;至&nbsp;</td> <td th:if="${type==1}"><input id="endDate" name="payDate" class="form-control Wdate" type="text" style="width:200px" placeholder="-年-月-日  --:--:--" readonly="readonly"></td> <td th:if="${!#lists.isEmpty(partition)}" :if="!@isAgency"> <select id="partition" name="partition.id" class="form-control"> <option value="">-所有分区-</option> </select> </td> <td shiro:hasrole="agency" :if="@isAgency" style="display:none" :css="{display: @isAgency?\'\':\'none\'}"> <select name="merchant.id" class="form-control" style="height:30px"> <option value="">-全部商户-</option> </select> </td> <td><button type="button" class="btn" :click="@query">查询</button></td> </tr> </tbody> </table> <table class="pull-right" shiro:hasrole="agency"> <tr> <th>代理统计：</th> <td> <label for="isAgency" class="label-box no-margin"> <input id="isAgency" name="isAgency" type="checkbox" :duplex-checked="@isAgency" :click="@query"/> <span class="box-switch"><i></i></span> </label> </td> </tr> </table> </form> </div> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>#</th> <th th:text="${name}"></th> <th>充值金额</th> <th>商户收入</th> <th>支付笔数</th> <th>比率</th> </tr> </thead> <tbody> <tr :if="@tabData!=\'\' && @tabData!=null" :for="($index, item) in @tabData"> <td :text="@item[8]"></td> <td :text="@item[4]?@item[4]:@item[5]" :css="{color: @item[4]?\'\':\'red\'}"></td> <td :text="@item[1]|number(2)"></td> <td :text="@item[2]|number(2)"></td> <td :text="@item[0]"></td> <td :text="@item[9]"></td> </tr> <tr :if="@tabData==\'\' || @tabData==null"><td colspan="6">暂无记录！</td></tr> </tbody> <tfoot th:replace="merchant/common/common :: table-tfoot(6)"></tfoot> </table> </div>'},function(t,e){t.exports=' <div class="content"> <div class="content-title"> <span class="title">充值统计</span> </div> <div class="form-heading"> <ul> <li><a href="/mer/analyse/pay_1.html">充值统计</a></li> <li><a href="/mer/analyse/pay_2.html">时段统计</a></li> <li><a href="/mer/analyse/game_1.html">分区统计</a></li> <li><a href="/mer/analyse/game_2.html">分组统计</a></li> <li><a href="/mer/analyse/game_3.html">充值排行</a></li> <li class="active"><a href="/mer/analyse/ips.html">IPS统计</a></li> </ul> </div> <div class="content-body" id="table-content-ie" :controller="/mer/visit"> <div class="col-xs-1"> <form id="search"> <table> <tbody> <tr> <td>日 期：</td> <td><input id="startDate" name="visitDate" class="form-control Wdate" type="text" th:value="${#dates.format(new java.util.Date().getTime(), \'yyyy-MM-dd 00:00:00\')}" style="width:200px" placeholder="-年-月-日  --:--:--" readonly="readonly"></td> <td>&nbsp;至&nbsp;</td> <td><input id="endDate" name="endDate" class="form-control Wdate" type="text" th:value="${#dates.format(new java.util.Date().getTime(), \'yyyy-MM-dd HH:mm:ss\')}" style="width:200px" placeholder="-年-月-日  --:--:--" readonly="readonly"></td> <td><button type="button" class="btn" :click="@query">查询</button></td> </tr> </tbody> </table> <table class="table table-hover" style="margin-top:10px"> <caption th:replace="merchant/common/common :: table-caption"></caption> <thead :skip="true"> <tr> <th>#</th> <th>域名</th> <th>访问次数</th> <th>登录次数</th> <th>支付笔数</th> <th>充值金额</th> <th>收入</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td :text="$index + 1"></td> <td :text="@item.domain"></td> <td :text="@item.visitCount"></td> <td :text="@item.count"></td> <td :text="@item.orderCount"></td> <td :text="@item.orderMoney|number(2)"></td> <td :text="@item.profit|number(2)"></td> </tr> <tr :if="@data.totalElements < 1"> <td colspan="7">暂无记录！</td> </tr> </tbody> </table> </form> </div> </div> </div> '},function(t,e){t.exports='<form id="cy-paging-search" :controller="group"> <div class="load-box spa"></div> <div class="content-body" id="table-content-ie"> <input type="hidden" id="line" th:value="${line}"> <a class="btn btn-success pull-right" href="javascript:;" style="margin:0 0 5px" :click="@render.merge(false)">添加</a> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>创建时间</th> <th>分组名称</th> <th>分区个数</th> <th>操作</th> </tr> </thead> <tbody :if="@data.totalElements > 0"> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.createDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.createDate | date(\'HH:mm:ss\')"></p> </td> <td :text="@item.name"></td> <td :text="@item.partitionGroups.length"></td> <td> <div class="btn-group"> <button class="btn btn-min" type="button" :click="@render.merge(@item)">编辑</button> <button class="btn btn-min" type="button" :attr="{\'data-uuid\': @item.uuid}" :click="@render.recharge">充值</button> <button class="btn btn-min btn-danger" type="button" :attr="{disabled:false}" :click="@dele(@item.id)">删除</button> </div> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="6">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(4)}"/> </table> </div> </form> '},function(t,e){t.exports='<div class="content-body" :controller="code"> <div class="node-body flow-hide"> <div class="col-xs-3"> <div class="node-info"> <div class="node-info-name">游戏分组：</div> <div class="node-info-value form"> <select id="group" class="form-control"> <option :attr="{value:\'_m/\'+@data.merchant.uuid}">-请选择-</option> </select> </div> </div> <div class="node-info"> <div class="node-info-name">充值站点：</div> <div class="node-info-value form"> <select id="line" class="form-control"></select> </div> </div> <div class="node-info text-center"> <a id="payurls" class="btn" :attr="{href:\'payurls_m/\'+@data.merchant.uuid,download:\'pay/\'+@data.merchant.account}">下载多线路充值文件</a> </div> <div class="box-nomargin"> <h3 class="text-aqua">预览</h3> <div class="col-xs-1 float-style" style="display:inline-block"> <label for="status1" class="label-box checkbox2 no-float"> <input id="status1" type="radio" name="status" value="1" :click="@isShow(1)"> <i class="radio default"></i>开启 </label> <label for="status2" class="label-box checkbox2 no-float"> <input id="status2" type="radio" name="status" value="0" :click="@isShow(0)" checked="checked"> <i class="radio default"></i>关闭 </label> </div> <h3 class="text-aqua">飘浮样式</h3> <div class="col-xs-1 float-style" style="display:inline-block"> <label for="float-1" class="label-box checkbox2 no-float"> <input id="float-1" type="radio" name="float-style" value="1" :duplex="@code.style"> <i class="radio default"></i>普通样式 </label> <label for="float-2" class="label-box checkbox2 no-float"> <input id="float-2" type="radio" name="float-style" value="2" :duplex="@code.style"> <i class="radio default"></i>随机飘浮 </label> <label for="float-3" class="label-box checkbox2 no-float"> <input id="float-3" type="radio" name="float-style" value="3" :duplex="@code.style"> <i class="radio default"></i>对联飘浮 </label> </div> <h3 class="text-aqua">飘浮图片</h3> <div class="col-xs-1 text-center check-style"> <label for="style1" class="label-box checkbox2 no-float"> <input id="style1" type="radio" name="image-style" value="1" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式一 </label> <label for="style2" class="label-box checkbox2 no-float"> <input id="style2" type="radio" name="image-style" value="2" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式二 </label> <label for="style3" class="label-box checkbox2 no-float"> <input id="style3" type="radio" name="image-style" value="3" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式三 </label> <label for="style4" class="label-box checkbox2 no-float"> <input id="style4" type="radio" name="image-style" value="4" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式四 </label> </div> <div class="col-xs-1 text-center check-style"> <label for="style5" class="label-box checkbox2 no-float"> <input id="style5" type="radio" name="image-style" value="5" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式五 </label> <label for="style6" class="label-box checkbox2 no-float"> <input id="style6" type="radio" name="image-style" value="6" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式六 </label> <label for="style7" class="label-box checkbox2 no-float"> <input id="style7" type="radio" name="image-style" value="7" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式七 </label> <label for="style8" class="label-box checkbox2 no-float"> <input id="style8" type="radio" name="image-style" value="8" :duplex="@code.img" :click="@check"> <i class="radio default"></i>样式八 </label> </div> </div> <div class="col-xs-1 text-center"> <button data-html="float-code" class="btn no-margin clip-copy">复制飘浮代码</button> </div> </div> <div class="col-xs-7 codes"> <div class="col-xs-1"> <h3 class="text-aqua" style="margin-top:0">充值链接</h3> <div class="pre-code" style="color:#cc7832"> <code><span class="domainName"></span><span class="uuid" :text="\'/pay/partition_m/\'+@data.merchant.uuid"></span></code> <span class="copy-code clip-copy">复制</span> </div> </div> <div class="col-xs-1"> <h3 class="text-aqua"> 发布站来源统计 <label class="label-box no-margin pull-right" data-type="3"> <input type="hidden" :class="@data.merchant.ipsState?\'checked\':\'\'"/> <span class="box-switch"><i></i></span> </label> </h3> <div class="pre-code"> <code style="color:#bed6ff;word-wrap:break-word" :text="@ipsCode"></code> <span class="copy-code clip-copy">复制</span> </div> <p>代码功能：统计玩家从哪个广告站进的您的网站,直接进入您网站的玩家不记录访问数据。</p> <p>使用说明：复制该代码加入到网站首页底部的&lt;/body&gt;前面即可。</p> </div> <div class="col-xs-1"> <h3 class="text-aqua"> 登录器访问统计 <label class="label-box no-margin pull-right" data-type="4"> <input type="hidden" :class="@data.merchant.loggerState?\'checked\':\'\'"/> <span class="box-switch"><i></i></span> </label> </h3> <div class="pre-code"> <code :text="@loggerCode"></code> <span class="copy-code clip-copy">复制</span> </div> <p>代码功能：统计玩家运行登陆器的次数。</p> <p>使用说明：复制该代码加到登陆器右边广告页面底部的&lt;/body&gt;前面即可。</p> </div> </div> </div> <div id="float-code" style="display:none"> <div style="position:fixed;z-index:999;top:30%;left:0" :if="@code.style==2"> <a href="javascript:;" target="_blank" title="点击前往充值"> <img style="border:none" class="image-style" :attr="{src:\'/images/mer/style\'+@code.img+\'.png\'}"> </a> <script data-float-id src="/assets/js/floating.js"><\/script> </div> <div style="position:fixed;z-index:999;top:30%;left:0" :if="@code.style==3"> <a href="javascript:;" target="_blank" title="点击前往充值"> <img style="border:none" class="image-style" :attr="{src:\'/images/mer/style\'+@code.img+\'.png\'}"> </a> </div> <div style="position:fixed;z-index:999;top:30%;right:0" :if="@code.style!=2"> <a href="javascript:;" target="_blank" title="点击前往充值"> <img style="border:none" class="image-style" :attr="{src:\'/images/mer/style\'+@code.img+\'.png\'}"> </a> </div> </div> </div>'},function(t,e){t.exports='<div :controller="index"> <div class="user-accounts"> <div class="user-col1"> <div class="user img-png"> <span class="text-orange h3" :text="@data.merchant.nickname">--</span> <span :text="@data.merchant.account">--</span> <span :text="@data.merchant.type?\'代理商户\':\'普通商户\'">--</span> </div> <div class="no-font"> <a href="#profile" class="line" data-tooltip-title="点击查看个人资料">基本资料</a> <span class="sp">|</span> <a id="password" href="javascript:;" class="line" data-tooltip-title="点击修改登陆密码">登录密码</a> <span class="sp">|</span> <a href="#log" class="line" data-tooltip-title="点击查看操作日志">用户日志</a> </div> </div> <div class="user-col2"> <ul class="user-col"> <li class="first"> <span>账户余额</span> <span class="h3 text-green" :text="@data.bank.overMoney|number(2)">0.00</span> </li> <li> <span>冻结金额</span> <span class="h3 text-gray" :text="@data.bank.frozen|number(2)">0.00</span> </li> <li> <span>可提现金额</span> <span class="h3 text-aqua" :text="@data.bank.settlementable|number(2)">0.00</span> </li> <li class="vline"> <span>提现中金额</span> <span class="h3 text-red" :text="@data.bank.allPay|number(2)">0.00</span> </li> <li class="no-padding"> <span>提现手续费</span> <span class="h3" :text="@data.merchant.fee|number(2)">0.00</span> </li> <li class="pull-right no-padding"> <a href="#takemoney" class="btn btn-danger" data-tooltip-title="点击前往提现">提现</a> </li> </ul> <div class="dot-line"> <div class="s-notify"> <a href="#rate" class="line" data-tooltip-title="点击查看产品结算比率">结算比率</a> <span class="sp">|</span> <a href="#takerecord" class="line" data-tooltip-title="点击查看账户提现记录">提现记录</a> </div> </div> </div> </div> <div class="option-setting"> <div class="box-info"> <ul class="user-col" style="padding:5px 15px"> <li> <span>今日充值</span> <span class="h3 text-orange" :text="@data.order.payAmount|number(2)">0.00</span> </li> <li> <span>今日利润</span> <span class="h3 font-green" :text="@data.order.merchantProfit|number(2)">0.00</span> </li> <li> <span>等待发送</span> <span> <a class="h3 font-red link" :attr="{href: @data.order.waitingCount>0?\'#order?state=2\':\'javascript:;\'}" :text="@data.order.waitingCount|number(0)">0</a> </span> </li> </ul> <div class="dot-line" style="padding:5px 0;margin:10px 10px 0"> <div class="options img-png"> <ul id="notice"> <li :for="($index, item) in @data.notice"> <a href="javascript:;" :text="@item.date|date(@item.title+\'  [yyyy-MM-dd HH:mm:ss]\')" :click="@noticeDetail($index)"></a> </li> <li style="display:none" :css="{display: @data.notice!=\'\'?\'none\':\'block\'}"><a href="javascript:;">【暂无公告！！】</a></li> </ul> </div> </div> </div> </div> <div class="option-setting"> <div class="option-title">功能设置</div> <div class="box-info"> <ul class="option-box"> <li> <span class="options option-x-col1 option-y-col3 img-png">在线客服</span> <span class="option-x-col2"> 客服QQ：<label :text="@data.merchant.serviceQQ|parseNull(\'--\')">--</label>&nbsp;&nbsp; 客服电话：<label :text="@data.merchant.servicePhone|parseNull(\'--\')">--</label> </span> <span class="option-x-col3"> <label class="label-box no-margin" data-type="1"> <input type="hidden" :class="@data.merchant.serviceState?\'checked\':\'\'"/> <span class="box-switch dis"><i></i></span> </label> </span> </li> <li th:class="${merchant.type?\'\':\'last\'}"> <span class="options option-x-col1 option-y-col1 img-png">玩家留言</span> <span class="option-x-col2"> 玩家留言&nbsp;<b class="text-orange" :text="@data.message|parseNull(\'0\')">0</b>&nbsp;条 (开启 <a class="line link" href="#message" data-tooltip-title="点击前往留言箱">留言箱</a>，玩家可以向您反映充值问题) </span> <span class="option-x-col3"> <label class="label-box no-margin" data-type="2"> <input type="hidden" :class="@data.merchant.leaveState?\'checked\':\'\'"/> <span class="box-switch dis"><i></i></span> </label> </span> </li> <li style="display:none" :if="false"> <span class="options option-x-col1 img-png icon-theme">网站皮肤</span> <span class="option-x-col2">设置您的管理后台和充值网站皮肤</span> <span class="option-x-col3"> <button class="btn btn-min no-margin" data-tooltip-title="点击更换皮肤">设置</button> </span> </li> <li class="last" shiro:hasrole="agency" th:if="${merchant.type}"> <span class="options option-x-col1 option-y-col2 img-png">注册推广</span> <span class="option-x-col2"> <a id="current-host" class="line" target="_blank" href="javascript:;"> <span id="clip-content" data-tooltip-title="代理商户注册推广链接"></span> </a> </span> <span class="option-x-col3"> <button class="btn btn-min no-margin clip-copy" data-tooltip-title="点击复制">复制</button> </span> </li> </ul> </div> </div> <div class="option-setting"> <div class="option-title icon-charts">交易统计</div> <div class="box-info" id="main" style="height:300px"></div> </div> <wbr is="ms-modal" ms-widget="{notice: @notice}"/> <div id="pwd-modal" class="modal-shade" style="display:none"> <div class="modal-box"> <div class="modal-box-title"> <span class="title">修改密码</span><span class="modal-close pwd-close">×</span> </div> <form id="changepwd"> <div class="modal-box-body"> <div class="modal-box-content"> <div class="form-line"> <span class="form-title">旧密码：</span> <input class="form-control" type="password" name="password" data-rule="{required: true}" data-rule-msg="请输入旧密码" placeholder="请输入旧密码"/> </div> <div class="form-line"> <span class="form-title">新密码：</span> <input class="form-control" type="password" id="nPassword" name="nPassword" data-rule="{pwd: true}" placeholder="请输入新密码"/> </div> <div class="form-line"> <span class="form-title">确认密码：</span> <input class="form-control" type="password" name="cPassword" data-rule="{equalto: \'nPassword\'}" data-rule-msg="两次密码输入不一致" placeholder="请输入确认密码"/> </div> </div> <div class="modal-box-footer"> <button id="form-commit" type="button" class="btn">确定</button> <button type="button" class="btn btn-danger pwd-close">取消</button> </div> </div> </form> </div> </div> </div>'},function(t,e){t.exports='<form id="cy-paging-search" :controller="message"> <div class="load-box spa"></div> <div class="content-body no-padding" id="table-content-ie" style="margin-top:20px"> <input type="hidden" name="state" value=""> <ul class="nav no-padding"> <li><a data-nav-name="state" data-nav-value="" href="javascript:;" :click="@checkNav" class="tab active">全　部</a></li> <li><a data-nav-name="state" data-nav-value="1" href="javascript:;" :click="@checkNav" class="tab">已　读</a></li> <li><a data-nav-name="state" data-nav-value="0" href="javascript:;" :click="@checkNav" class="tab">未　读</a></li> </ul> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead class="batch-check"> <tr> <th> <label class="label-box checkbox2 no-margin" :click="@checkAll"> <input type="checkbox"> <i class="check no-margin"></i> </label> </th> <th>留言时间</th> <th>留言内容</th> <th>玩家账号</th> <th>玩家QQ</th> <th>联系电话</th> <th>分区名称</th> <th>状态</th> <th>操作</th> </tr> </thead> <tbody class="batch-check"> <tr :for="($index, item) in @data.content"> <td> <label class="label-box checkbox2 no-margin"> <input type="checkbox" name="ids" :attr="{value: @item.id}" :click="@checkOne"> <i class="check no-margin"></i> </label> </td> <td> <p class="tab-p-heard" :text="@item.leaveDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.leaveDate | date(\'HH:mm:ss\')"></p> </td> <td> <a href="javascript:;" class="link tooltips-bottom" data-tooltips="点击查看留言内容" :click="@render.detail(@item)">查看内容</a> </td> <td :text="@item.account"></td> <td :text="@item.qq|parseNull(\'--\')"></td> <td :text="@item.phone|parseNull(\'--\')"></td> <td :text="@item.partitionName"></td> <td> <span :if="@item.state==0" class="lable lable-right danger">未读</span> <span :if="@item.state==1" class="lable lable-right">已读</span> </td> <td> <button type="button" class="btn btn-min btn-danger" :click="@dele(@item.id)">删除</button> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="9">暂无记录！</td></tr> </tbody> <tfoot> <tr> <th colspan="9" class="text-right no-font"> <button type="button" data-batch="batchDel" data-url="message/batch_delete" class="btn btn-danger no-margin pull-left cy-batchs cy-on" disabled="disabled">删除</button> <div class="page-option"> <a class="btn-paging" href="javascript:;" :click="@first"> <i class="sy"></i> </a> <a class="btn-paging" href="javascript:;" :click="@prev"> <i class="syy"></i> </a> <span :text="@data.number + 1 + \'/\' + @data.totalPages">0/0</span> <a class="btn-paging" href="javascript:;" :click="@next"> <i class="xyy"></i> </a> <a class="btn-paging" href="javascript:;" :click="@last"> <i class="wy"></i> </a> <input id="jumpto" class="paging" type="text" placeholder="0"> <a class="btn-paging no-margin" href="javascript:;" :click="@jump">GO</a> </div> </th> </tr> </tfoot> </table> </div> <wbr is="ms-modal" ms-widget="{notice: @item}"/> </form>'},function(t,e){t.exports='<!doctype html> <html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml"> <head> <title>充值线路选择</title> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> <style type="text/css">body{font-family:\'Microsoft YaHei\',微软雅黑,Tahoma,\'Lucida Grande\',Arial,sans-serif;font-size:16px;margin:0;background-color:#f0f1f1}#urls{margin-left:60px;margin-top:30px;position:relative;text-align:center;overflow:hidden}#urls div{margin:0 30px 30px 0;float:left}#urls div a{color:#fff;display:block;float:left;background-color:#1aa9bd;width:150px;height:40px;line-height:40px;text-decoration:none;border-radius:2px}#urls div a:hover{background-color:#008194}.tips{text-align:center;margin:10px;color:red;font-weight:700;font-size:18px}ol{margin:5px}ol li{color:red;margin:8px 0}fieldset{margin:10px auto;margin-right:30px;border:1px solid red}legend{text-align:center;margin:0 auto;color:red;letter-spacing:2px;font-weight:700}#f2{border:2px solid #008194}#f2 legend{color:#008194;font-weight:700}</style> </head> <body> <div style="width:100%;border-top:5px solid #008194;border-bottom:5px solid #008194;margin:10% auto 0;background-color:#fff"> <div style="width:740px;margin:0 auto;overflow:hidden"> <div style="padding:10px"> <fieldset> <legend>◆注◆意◆事◆项◆</legend> <ol type="1"> <li>游戏内卖元宝的都是骗子，请不要相信，以免上当受骗。</li> <li>为了保证您的资金安全，充值前请关掉外挂，以免被病毒劫持导致资金被转移。</li> <li>充值结束后如果对订单结果有疑问请记住订单ID，咨询平台客服。</li> <li>如果出现杀毒软件误报，请退出杀毒软件后再充值。</li> </ol> </fieldset> <fieldset id="f2"> <legend>速度测试中……如果无法自动选择线路,或速度比较慢 请手动选择路线</legend> <div id="urls"> <div th:if="${!#lists.isEmpty(list)}" th:each="item:${list}"> <a th:href="${item.domainName}" target="_blank" th:text="${item.name}"></a> </div> </div> </fieldset> </div> </div> </div> <div style="background-color:#f1f1f1;margin:0;padding:1px 0;text-align:center"> <p>抵制不良游戏 拒绝盗版游戏 注意自我保护 谨防受骗上当</p> <p>合适游戏益脑 沉迷游戏伤身 合理安排时间 享受健康生活</p> </div> </body> </html>'},function(t,e){t.exports='<div :controller="order"> <form id="cy-paging-search"> <div class="load-box spa"></div> <input name="state" type="hidden" value=""> <div class="content-body"> <div class="search" :skip="true"> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">开始时间</span> <input id="startDate" name="orderDate" class="form-control Wdate" type="text" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">结束时间</span> <input id="endDate" name="payDate" class="form-control Wdate" type="text" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">订单号</span> <input name="orderNumber" class="form-control" type="text" placeholder="请输入订单号"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">游戏账号</span> <input id="input_ie" name="playerAccount" class="form-control" type="text" placeholder="请输入游戏账号"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">游戏分组</span> <div class="input-group-select"> <select id="group" name="groupId" class="form-control"> <option value="">-请选择-</option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">游戏分区</span> <div class="input-group-select"> <select id="partition" name="partition.id" class="form-control"> <option value="">-请选择-</option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group" id="input-group-ie"> <span class="input-group-addon">支付方式</span> <div class="input-group-select"> <select id="product" name="product.id" class="form-control"> <option value="">-请选择-</option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">订单金额</span> <input name="amount" class="form-control input-sub" type="text" placeholder="0"> <span class="input-group-addon2">-</span> <input name="payAmount" class="form-control input-sub" type="text" placeholder="999."> </div> </div> </div> <div class="col-xs-1 text-center no-font"> <button type="button" class="btn btn-success" :click="@previousDay">上一天</button> <button type="button" class="btn" :click="@today">今天</button> <button type="button" class="btn btn-success" :click="@nextDay" :attr="{disabled: @isToday}">下一天</button> <button type="button" class="btn" :click="@query">查询</button> </div> </div> <div class="col-xs-1 col-total"> <table class="table-total"> <tr> <th></th> <th>订单总金额</th> <th>支付金额</th> <th>总利润</th> <th>待付款</th> <th>成功率</th> </tr> <tr class="yesterday"> <th class="text-right" style="width:110px">昨日此时充值：</th> <td :text="@data.yesterday.amount|number(2)">0.00</td> <td :text="@data.yesterday.payAmount|number(2)">0.00</td> <td :text="@data.yesterday.merchantProfit|number(2)">0.00</td> <td :text="(@data.yesterday.amount-@data.yesterday.payAmount)|number(2)">0.00</td> <td :text="@data.yesterday.successRate+\'%\'">0.00%</td> </tr> <tr class="terday"> <th class="text-right">充值金额统计：</th> <td :text="@data.today.amount|number(2)">0.00</td> <td :text="@data.today.payAmount|number(2)">0.00</td> <td class="text-success">+<span :text="@data.today.merchantProfit|number(2)">0.00</span></td> <td :text="(@data.today.amount-@data.today.payAmount)|number(2)">0.00</td> <td :text="@data.today.successRate+\'%\'">0.00%</td> </tr> </table> </div> <div class="content-body no-padding" id="table-content-ie"> <ul class="nav no-padding"> <li><a data-nav-name="state" data-nav-value="" href="javascript:;" :click="@checkNav" class="tab active">全　部</a></li> <li><a data-nav-name="state" data-nav-value="1" href="javascript:;" :click="@checkNav" class="tab">成　功</a></li> <li><a data-nav-name="state" data-nav-value="2" href="javascript:;" :click="@checkNav" class="tab">待发送</a></li> <li><a data-nav-name="state" data-nav-value="0" href="javascript:;" :click="@checkNav" class="tab">待付款</a></li> </ul> <div class="progress" :attr="{\'data-percent\': @data.today.successRate+\'%\'}"> <div class="progress-bar" :css="{width: @data.today.successRate+\'%\'}"></div> </div> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>下单时间</th> <th>订单号</th> <th>充值账号</th> <th>所属分区</th> <th>订单金额</th> <th class="text-success">利润</th> <th>充值方式</th> <th>订单状态</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.orderDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.orderDate | date(\'HH:mm:ss\')"></p> </td> <td> <a href="javascript:;" class="link tooltips-bottom" data-tooltips="点击查看订单详情" :click="@render.detail(@item)" :text="@item.orderNumber"></a> </td> <td :text="@item.playerAccount"></td> <td :text="@item.partitionName?@item.partitionName:@item.discription" :css="{color: @item.partitionName?\'\':\'red\'}"></td> <td :text="@item.amount|number(2)"></td> <td :text="@item.merchantProfit|number(2)" class="text-success"></td> <td :text="@item.productName"></td> <td> <span class="lable lable-right" :class="@render.states[@item.state].clazz" :text="@render.states[@item.state].content"></span> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="8">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages:@pages(8)}"/> </table> </div> </form> <div class="modal-shade" id="detail" style="display:none"> <div class="modal-box"> <div class="modal-box-title">订单详情<span class="modal-close">×</span></div> <div class="modal-box-body"> <div class="modal-box-content"> <table style="width:708px;margin-bottom:1px"> <tbody> <tr> <th style="width:91px">订单号</th> <td :text="@item.orderNumber"></td> <th style="width:91px">支付方式</th> <td :text="@item.productName" class="h3 font-aqua"></td> </tr> <tr> <th>玩家账号</th> <td :text="@item.playerAccount"></td> <th>游戏分区</th> <td :text="@item.partitionName|parseNull(\'--\')" class="h3 font-green"></td> </tr> <tr> <th>订单金额</th> <td :text="@item.amount|number(2)" class="h3 text-orange"></td> <th>下单时间</th> <td :text="@item.orderDate|date(\'yyyy-MM-dd HH:mm:ss\')"></td> </tr> <tr> <th>付款金额</th> <td :text="@item.payAmount|number(2)" class="h3 text-success"></td> <th>付款时间</th> <td :text="@item.payDate|dateNotNull(\'yyyy-MM-dd HH:mm:ss\')"></td> </tr> <tr> <th>赠送金额</th> <td :text="@item.giveAmount|number(2)"></td> <th>玩家ＱＱ</th> <td :text="@item.playerQQ|parseNull(\'--\')"></td> </tr> <tr> <th>红包赠送</th> <td :text="@item.redPacketAmount|number(2)"></td> <th>玩家电话</th> <td :text="@item.playerPhone|parseNull(\'--\')"></td> </tr> <tr> <th>玩家ＩＰ</th> <td :text="@item.playerIp"></td> <th>订单状态</th> <td> <span class="lable lable-right" :class="@render.states[@item.state].clazz" :text="@render.states[@item.state].content"></span> </td> </tr> <tr> <th>下发道具</th> <td colspan="3" :text="@item.remarks|parseNull(\'--\')"></td> </tr> </tbody> <tfoot :if="@item.state==2"> <tr> <td colspan="4" class="text-right" style="border:none;padding:3px 0"> <button class="btn btn-min btn-primary" :click="@render.reissue(@item)">补发</button> </td> </tr> </tfoot> </table> </div> </div> </div> </div> </div>'},function(t,e){t.exports='<div class="content-body"> <form id="partition_edit" :controller="partition_edit"> <div class="node-body"> <div class="node-info"> <input :if="!@isAdd && !@isClone" type="hidden" name="id" :duplex="@data.id"> <div class="node-info-name">分区类型：</div> <div class="node-info-value no-font"> <label for="type-cq" class="lab-tab tooltips-bottom" data-tooltips="热血传奇" :if="@isAdd || @data.type == 1"> <input id="type-cq" type="radio" name="type" value="1" :duplex="@data.type" :change="@save"> <span class="tab"> <span class="partition-type pt-cq"></span> </span> </label> <label for="type-cs" class="lab-tab tooltips-bottom" data-tooltips="传奇世界" :if="@isAdd || @data.type == 2"> <input id="type-cs" type="radio" name="type" value="2" :duplex="@data.type" :change="@save"> <span class="tab"> <span class="partition-type pt-cs"></span> </span> </label> <label for="type-cq3" class="lab-tab tooltips-bottom" data-tooltips="传奇三" :if="@isAdd || @data.type == 3"> <input id="type-cq3" type="radio" name="type" value="3" :duplex="@data.type" :change="@save"> <span class="tab"> <span class="partition-type pt-cq3"></span> </span> </label> <label for="type-sql" class="lab-tab tooltips-bottom" data-tooltips="SQL通用" :if="@isAdd || @data.type == 0"> <input id="type-sql" type="radio" name="type" value="0" :duplex="@data.type" :change="@save"> <span class="tab"> <span class="partition-type pt-sql"></span> </span> </label> <label style="display:none" for="type-game" class="lab-tab tooltips-bottom" data-tooltips="WEB通讯" :if="false"> <input id="type-game" type="radio" name="type" value="4" :duplex="@data.type" :change="@save"> <span class="tab"> <span class="partition-type pt-web"></span> </span> </label> </div> </div> <div class="node-info"> <div class="node-info-name">分区设置：</div> <div class="node-info-value"> <div class="info-value-sub"> <label for="ybEgg" class="label-box checkbox checkbox-min"> <input id="ybEgg" type="checkbox" name="ybEgg" :duplex-checked="@data.ybEgg"> <span class="box-left">开启元宝蛋</span> <i class="check-right check"></i> </label> <label for="noticeState" class="label-box checkbox checkbox-min"> <input id="noticeState" type="checkbox" name="noticeState" :duplex-checked="@data.noticeState" :change="@save"> <span class="box-left">启用分区公告</span> <i class="check-right check"></i> </label> <label for="isCreate" class="label-box checkbox checkbox-min tooltips-bottom" data-tooltips="添加分区同时创建网关脚本，请确保与网关通讯正常" th:if="*{type == 1 or type == 2}" :if="@data.type == 1 || @data.type == 2"> <input id="isCreate" name="isCreate" type="checkbox" :duplex-checked="@data.isCreate"> <span class="box-left">创建游戏脚本</span> <i class="check-right check"></i> </label> </div> </div> </div> <div class="node-info"> <div class="node-info-name">分区名称：</div> <div class="node-info-value form"> <input class="form-control" placeholder="请输入分区名称" maxlength="30" name="name" :duplex="@data.name" data-rule="{length: [1,30]}"> <p>1-30个字符，请勿输入特殊符号</p> </div> </div> <div class="node-info"> <div class="node-info-name">开区时间：</div> <div class="node-info-value form"> <input class="form-control Wdate" placeholder="请选择开区时间" name="useDate" :duplex="@data.useDate|date(\'yyyy-MM-dd HH:mm:ss\')" data-rule="{required: true}" readonly="readonly" style="padding-right:6px"> <p>分区正式开区时间</p> </div> </div> <div class="node-info"> <div class="node-info-name">开区名称：</div> <div class="node-info-value form"> <div class="info-value-sub"> <input class="form-control" placeholder="请输入开区名称" maxlength="30" name="useName" :duplex="@data.useName|parseNull" data-rule="{length: [1,30]}"> </div> <div class="info-value-sub"> <p>正式开区后使用当前名称为分区名称</p> </div> </div> </div> <div class="node-info"> <div class="node-info-name">所属分组：</div> <div class="node-info-value form box-nomargin" style="width:500px"> <label :for="($index,item) in @groups" :attr="{for:\'redPacketAdditional\'+$index}" class="label-box checkbox2"> <input :attr="{id:\'redPacketAdditional\'+$index,name:\'groupIds[\'+$index+\']\',value:@item.id,checked: @item.isChecked!=null&&@item.isChecked}" type="checkbox"> <i class="check"></i><span :text="@item.name"></span> </label> </div> </div> <div class="node-info"> <div class="node-info-name">分区模板：</div> <div class="node-info-value form"> <select id="template" class="form-control" name="template.id" :duplex="@data.templateId" data-rule="{required: true}"> <option value="">-请选择-</option> </select> <a href="#template/add" class="btn btn-success tooltips-bottom" data-tooltips="点击添加新模板">添加</a> </div> </div> <div class="node-info" :if="@data.type != 0 && @data.type != 4"> <div class="node-info-name">分区路径：</div> <div class="node-info-value form"> <div class="info-value-sub"> <input class="form-control width-300" type="text" placeholder="分区路径" name="scriptPath" :duplex="@data.scriptPath|parseNull(\'D:/MirServer\')" data-rule="{required: true}"> </div> <div class="info-value-sub"> <p>分区安装脚本目录或INI文件存放路径</p> </div> </div> </div> <div class="node-info"> <div class="node-info-name">分区公告：</div> <div class="node-info-value form"> <div class="info-value-sub"> <textarea class="form-control width-300" rows="2" placeholder="请输入分区公告" name="notice" :duplex="@data.notice|parseNull" :attr="{\'data-rule\':\'{required: \'+@data.noticeState+\'}\'}"></textarea> </div> <div class="info-value-sub"> <p>玩家将在游戏分区充值页面看到此消息提示</p> </div> </div> </div> <div class="node-info" style="display:none" :if="@data.type!=4" :css="{display: @data.type!=4?\'inline-block\':\'\'}"> <div class="node-info-name">通讯网关：</div> <div class="node-info-value form"> <div class="info-value-sub"> <div> <p>Ｉ　Ｐ：</p> <input class="form-control" maxlength="16" type="text" placeholder="网关所在服务器ip" name="serverIp" :duplex="@data.serverIp|parseNull" data-rule="{ip: true}"> </div> <div> <p>端　口：</p> <input class="form-control" maxlength="5" size="4" placeholder="端口" type="text" name="serverPort" :duplex="@data.serverPort|parseNull" data-rule="{digits: [1024,65535]}"> </div> </div> <p>您的游戏网关所在服务器IP和通讯端口</p> </div> </div> <div class="node-info" style="display:none" :if="@data.type==4" :css="{display: @data.type==4?\'inline-block\':\'\'}"> <div class="node-info-name">WEB通讯：</div> <div class="node-info-value form"> <div class="info-value-sub"> <div> <p>接收地址：</p> <input class="form-control width-300" type="text" placeholder="接收地址" name="webUrl" :duplex="@data.webUrl|parseNull" data-rule="{required: true}"> </div> </div> <div class="info-value-sub"> <div> <p>成功标识：</p> <input class="form-control width-300" type="text" placeholder="通讯成功标识" name="successMark" :duplex="@data.successMark" data-rule="{required: true}"> </div> </div> <div class="info-value-sub"> <div> <p>数据格式：</p> <textarea class="form-control" rows="4" cols="50" name="dataFormat" :duplex="@data.dataFormat" data-rule="{required: true}"></textarea> </div> </div> </div> </div> <div class="node-info" style="display:none" :if="@data.type==0&&@data.type!=4" :css="{display: @data.type==0?\'inline-block\':\'\'}"> <div class="node-info-name">数据库配置：</div> <div class="node-info-value form"> <div class="info-value-sub"> <div> <p>类　型：</p> <select class="form-control" name="dbInfos.type" :duplex="@data.dbInfos.type" data-rule="{required: @data.type==0}"> <option value="0">MySQL</option> <option value="2">SQL Server</option> </select> </div> </div> <div class="info-value-sub"> <div> <p>Ｉ　Ｐ：</p><input class="form-control" maxlength="16" placeholder="数据库服务器ip" type="text" name="dbInfos.ip" :duplex="@data.dbInfos.ip|parseNull(\'127.0.0.1\')" data-rule="{ip: true}"> </div> <div> <p>端　口：</p><input class="form-control" maxlength="5" size="4" placeholder="端口" type="text" name="dbInfos.port" :duplex="@data.dbInfos.port|parseNull(@data.dbInfos.type==0?3306:1433)" data-rule="{digits: [1024,65535]}"> </div> </div> <div class="info-value-sub"> <div> <p>用户名：</p><input class="form-control" type="text" placeholder="数据库连接用户名" name="dbInfos.user" :duplex="@data.dbInfos.user|parseNull(@data.dbInfos.type==0?\'root\':\'sa\')" data-rule="{required: true}"> </div> <div> <p>密　码：</p><input class="form-control width-140" type="text" placeholder="数据库连接密码" name="dbInfos.pwd" :duplex="@data.dbInfos.pwd|parseNull" data-rule="{required: true}"> </div> </div> <div class="info-value-sub"> <div> <p>ＳＱＬ：</p> <textarea class="form-control" cols="46" name="dbInfos.sql" placeholder="UPDATE 数据库名.表名 SET 游戏币字段 = 游戏币字段 + @SUM@ WHERE 账号字段 = @USER@" :duplex="@data.dbInfos.sql|parseNull" data-rule="{required: true}"></textarea> </div> </div> <p>1.多条sql请用";"隔开&nbsp;&nbsp;</p> <p>2.账号变量:@USER@ 游戏币数量:@SUM@</p> </div> </div> <div class="node-info"> <div class="node-info-name">&nbsp;</div> <div class="node-info-value no-font"> <button id="form-commit" type="button" class="btn btn-large" :text="@isClone?\'克隆分区\':\'保　存\'"></button> </div> </div> </div> </form> </div>'},function(t,e){t.exports='<form id="cy-paging-search" :controller="partition"> <div class="load-box spa"></div> <div class="content-body"> <div class="search"> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">所属分组</span> <div class="input-group-select"> <select id="group" name="group.id" class="form-control" :change="@change"> <option value="">-请选择-</option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">游戏模板</span> <div class="input-group-select"> <select id="template" name="template.id" class="form-control" :change="@change"> <option value="">-请选择-</option> </select> </div> </div> </div> <div class="col-xs-4"> <div class="input-group" id="input-group-ie"> <span class="input-group-addon">状态</span> <div class="input-group-select"> <select name="state" class="form-control" :change="@change"> <option value="">-请选择-</option> <option value="1">启用</option> <option value="0">禁用</option> </select> </div> </div> </div> </div> </div> <div class="content-body no-padding" id="table-content-ie"> <input type="hidden" name="type" value=""> <input type="hidden" id="line" th:value="${line}"> <ul class="nav no-padding"> <li><a data-nav-name="type" data-nav-value="" href="javascript:;" :click="@checkNav" class="tab active">全　部</a></li> <li><a data-nav-name="type" data-nav-value="1" href="javascript:;" :click="@checkNav" class="tab">传　奇</a></li> <li><a data-nav-name="type" data-nav-value="2" href="javascript:;" :click="@checkNav" class="tab">传　世</a></li> <li><a data-nav-name="type" data-nav-value="3" href="javascript:;" :click="@checkNav" class="tab">传奇三</a></li> <li><a data-nav-name="type" data-nav-value="0" href="javascript:;" :click="@checkNav" class="tab">通用</a></li> </ul> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead class="batch-check"> <tr> <th> <label class="label-box checkbox2 no-margin" :click="@checkAll"> <input type="checkbox"> <i class="check no-margin"></i> </label> </th> <th>排序</th> <th>名称</th> <th>游戏模板</th> <th>服务器</th> <th>脚本路径</th> <th>状态</th> <th>开区时间</th> <th>操作</th> </tr> </thead> <tbody class="batch-check"> <tr :for="($index, item) in @data.content"> <td> <label class="label-box checkbox2 no-margin"> <input type="checkbox" name="ids" :attr="{value: @item.id}" :click="@checkOne"> <i class="check no-margin"></i> </label> </td> <td> <input class="form-control" name="sort" type="text" size="1" :duplex="@item.sort"> </td> <td> <a class="link tooltips-bottom" data-tooltips="点击编辑分区" :attr="{href:\'#installpar?id=\'+@item.id}" :text="@item.useDate|compareToNowDate(@item.name, @item.useName)"></a> </td> <td> <p class="tab-p-heard" :text="@item.templateName"></p> <p class="text-gray" :text="@item.currencyName"></p> </td> <td> <p class="tab-p-heard" :text="@item.serverIp|parseNull(\'--\')"></p> <p :if="@item.type!=4" class="text-gray" :text="@item.serverPort"></p> </td> <td :text="@item.type==0?\'SQL\':(@item.type==4?\'WEB通讯\':@item.scriptPath)"></td> <td> <label class="label-box no-margin no-float" :click="@state(@item.id,$event)"> <input type="hidden" :class="@item.state?\'checked\':\'\'"/> <span class="box-switch dis"><i></i></span> </label> </td> <td> <p class="tab-p-heard" :text="@item.useDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.useDate | date(\'HH:mm:ss\')"></p> </td> <td> <div class="btn-group"> <a class="btn btn-min" href="javascript:;" :attr="{\'data-uuid\': @item.uuid}" :click="@render.recharge">充值</a> <a class="btn btn-min" href="javascript:;" :click="@render.check(@item)">检测</a> <a class="btn btn-min" href="javascript:;" :attr="{href:\'#/installpar?id=\'+@item.id}">编辑</a> <a class="btn btn-min" href="javascript:;" :click="@render.load(@item)">加载</a> <a class="btn btn-min" :attr="{href:\'#/installpar?id=\'+@item.id+\'&isClone=true\'}">克隆</a> <a class="btn btn-min" :attr="{href: \'#/reissue?id=\'+@item.id}">补发</a> <a class="btn btn-min btn-danger" href="javascript:;" :click="@dele(@item.id)">删除</a> </div> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="9">暂无记录！</td></tr> </tbody> <tfoot> <tr> <th colspan="9" class="text-right no-font"> <div class="btn-group pull-left"> <button type="button" data-batch="batchSort" data-url="partition/sort" class="btn cy-batchs cy-on" disabled="disabled">排序</button> <button type="button" data-batch="batchDel" data-url="partition/batch_delete" class="btn btn-danger cy-batchs cy-on" disabled="disabled">删除</button> </div> <div class="page-option"> <a class="btn-paging" href="javascript:;" :click="@first"> <i class="sy"></i> </a> <a class="btn-paging" href="javascript:;" :click="@prev"> <i class="syy"></i> </a> <span :text="@data.number + 1 + \'/\' + @data.totalPages">0/0</span> <a class="btn-paging" href="javascript:;" :click="@next"> <i class="xyy"></i> </a> <a class="btn-paging" href="javascript:;" :click="@last"> <i class="wy"></i> </a> <input id="jumpto" class="paging" type="text" placeholder="0"> <a class="btn-paging no-margin" href="javascript:;" :click="@jump">GO</a> </div> </th> </tr> </tfoot> </table> </div> </form>'},function(t,e){t.exports='<form id="cy-paging-search" :controller="reissue"> <div class="load-box spa"></div> <div class="content-body"> <div class="search" :skip="true"> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">开始时间</span> <input id="startDate" name="startDate" class="form-control Wdate" type="text" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">结束时间</span> <input id="endDate" name="endDate" class="form-control Wdate" type="text" placeholder="-年-月-日  --:--:--" readonly="readonly"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">游戏账号</span> <input id="input_ie" name="playerAccount" class="form-control" type="text" placeholder="请输入游戏账号"> </div> </div> <div class="col-xs-4"> <div class="input-group"> <span class="input-group-addon">游戏分区</span> <div class="input-group-select"> <select id="partition" name="partition.id" class="form-control"> <option value="">-请选择-</option> </select> </div> </div> </div> </div> <div class="col-xs-1 text-center no-font"> <button type="button" class="btn btn-success" :click="@previousDay">上一天</button> <button type="button" class="btn" :click="@today">今天</button> <button type="button" class="btn btn-success" :click="@nextDay">下一天</button> <button type="button" class="btn" :click="@query">查询</button> </div> </div> <div class="content-body no-padding" id="table-content-ie"> <input type="hidden" name="type" value=""> <ul class="nav no-padding"> <li><a data-nav-name="type" data-nav-value="" href="javascript:;" :click="@checkNav" class="tab active">全　部</a></li> <li><a data-nav-name="type" data-nav-value="true" href="javascript:;" :click="@checkNav" class="tab">手动充值</a></li> <li><a data-nav-name="type" data-nav-value="false" href="javascript:;" :click="@checkNav" class="tab">整区补发</a></li> </ul> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>补发时间</th> <th>业务流水</th> <th>所属分区</th> <th>玩家账号</th> <th>付款方式</th> <th>补发金额</th> <th>补发方式</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.reissueDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.reissueDate | date(\'HH:mm:ss\')"></p> </td> <td :text="@item.serialNumber"></td> <td :text="@item.partitionName"></td> <td :text="@item.playerAccount"></td> <td :text="@item.productName"></td> <td :text="@item.amount|number(2)" class="text-success"></td> <td> <span :if="@item.type" class="lable lable-right">手动充值</span> <span :if="!@item.type" class="lable lable-right primary">整区补发</span> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="7">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(7)}"/> </table> </div> </form>'},function(t,e){t.exports='<div class="form-heading"> <ul> <li class="active"> <a href="#/reissue">订单补发</a> </li> <li> <a href="#/record">补发记录</a> </li> </ul> </div> <div class="content-body no-padding" id="table-content-ie" style="margin-top:10px"> <div class="col-xs-3"> <form :controller="reissue1" :validate="@validate"> <table class="reissue pull-right"> <tr> <td>游戏分区：</td> <td> <select id="partition1" name="partitionId" class="form-control" style="width:180px" :duplex="@data.partition" :rules="{notnull: true}"> <option value="">-请选择-</option> <option th:if="${!#lists.isEmpty(partition)}" th:each="item:${partition}" th:value="${item.id}" th:text="${item.name}" th:selected="${partitionId==item.id}"></option> </select> </td> </tr> <tr> <td>充值方式：</td> <td> <select id="product" name="productId" class="form-control" style="width:180px" :duplex="@data.product" :rules="{notnull: true}"> <option value="">-请选择-</option> </select> </td> </tr> <tr> <td>游戏账号：</td> <td> <input name="playerAccount" class="form-control" type="text" placeholder="请输入游戏账号" style="width:150px" :duplex="@data.playerAccount" :rules="{notnull: true}"> </td> </tr> <tr> <td>充值金额：</td> <td> <input name="amount" class="form-control" type="text" placeholder="充值金额" style="width:150px" :duplex="@data.amount" :rules="{digits: true, min: 1}"> </td> </tr> <tr> <td colspan="2" class="box-nomargin"> <label for="containGiveAmount" class="label-box checkbox2"> <input id="containGiveAmount" type="checkbox" name="containGiveAmount"> <i class="check"></i>不含赠送金额 </label> <label for="containRedPacket1" class="label-box checkbox2"> <input id="containRedPacket1" type="checkbox" name="containRedPacket"> <i class="check"></i>包含红包赠送 </label> </td> </tr> <tr> <td colspan="2" class="text-center"> <button type="button" class="btn btn-large" :click="@save">确　定</button> </td> </tr> </table> </form> </div> <div class="col-xs-7"> <form :controller="reissue2" :validate="@validate"> <table class="reissue" style="margin:0 auto"> <tr> <td>游戏分区：</td> <td> <select id="partition2" name="partitionId" class="form-control" style="width:180px" :duplex="@data.partition" :rules="{notnull: true}"> <option value="">-请选择-</option> <option th:if="${!#lists.isEmpty(partition)}" th:each="item:${partition}" th:value="${item.id}" th:text="${item.name}" th:selected="${item.id == partitionId}"></option> </select> </td> </tr> <tr> <td>自动补发：</td> <td> <input type="checkbox" class="input-box" id="isAuto" name="auto" :duplex-checked="@data.isAuto"> <input name="autoDate" type="text" class="form-control check-input Wdate" data-pattern="yyyy-MM-dd HH:mm:00" placeholder="在指定时间自动补发" style="width:200px" :duplex="@data.autoDate" :rules="{required: @data.isAuto}" readonly="readonly"> <label for="isAuto" class="label-box checkbox label-input"> <i class="check-right check"></i> </label> </td> </tr> <tr> <td>日　　期：</td> <td> <input id="startDate" name="startDate" type="text" class="form-control Wdate" placeholder="-年-月-日  --:--:--" style="width:200px" readonly="readonly"> 至 <input id="endDate" name="endDate" type="text" class="form-control Wdate" placeholder="-年-月-日  --:--:--" style="width:200px" readonly="readonly"> </td> </tr> <tr> <td>额外补发：</td> <td> <input name="added" class="form-control" type="text" style="width:80px" value="0" :duplex="@data.added" :rules="{digits: true, min: 0}"> % </td> </tr> <tr> <td colspan="2" class="box-nomargin"> <label for="containManual" class="label-box checkbox2"> <input id="containManual" type="checkbox" name="containManual"> <i class="check"></i>包含手动充值 </label> <label for="containRedPacket" class="label-box checkbox2"> <input id="containRedPacket" type="checkbox" name="containRedPacket"> <i class="check"></i>包含红包赠送 </label> <label for="containGiveAmount2" class="label-box checkbox2"> <input id="containGiveAmount2" type="checkbox" name="containGiveAmount"> <i class="check"></i>不含赠送金额 </label> <label for="onlyYB" class="label-box checkbox2"> <input id="onlyYB" type="checkbox" name="onlyYB"> <i class="check"></i>额外仅补发元宝 </label> </td> </tr> <tr> <td></td> <td> <button type="button" class="btn btn-large" :click="@save">确　定</button> </td> </tr> </table> </form> </div> <form id="cy-paging-search" :controller="job"> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>创建时间</th> <th>任务名称</th> <th style="width:60%">任务描述</th> <th>状态</th> <th>操作</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td> <p class="tab-p-heard" :text="@item.createDate | date(\'yyyy-MM-dd\')"></p> <p class="text-gray" :text="@item.createDate | date(\'HH:mm:ss\')"></p> </td> <td :text="@item.name"></td> <td :text="@item.discription"></td> <td> <span :if="@item.state==-1" class="lable lable-right danger">已停止</span> <span :if="@item.state==0" class="lable lable-right primary">待执行</span> <span :if="@item.state==1" class="lable lable-right">完　成</span> <span :if="@item.state==2" class="lable lable-right orange">已过期</span> </td> <td> <button :if="@item.state==0" type="button" class="btn btn-min" :attr="{disabled: @item.state!=0}" :click="@item.state==0?@render.stop(@item.id):\'\'">停止</button> <button :if="@item.state!=0" type="button" class="btn btn-min btn-danger" :click="@dele(@item.id)">删除</button> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="5">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(5)}"/> </table> </form> </div>'},function(t,e){t.exports='<div class="content-body" :controller="template/add"> <div class="load-box"></div> <form :validate="@validate"> <div class="content-node"> <div class="node-head"> <a href="javascript:;" :click="@nodeToggle"> <span class="pull-left-ie">基本信息</span> <span class="arrow img-png"></span> </a> </div> <div class="node-body"> <div class="node-info"> <input th:if="${!isAdd}" type="hidden" th:field="*{id}" :if="@showId"> <div class="node-info-name">模板类型：</div> <div class="node-info-value no-font"> <label for="type-cq" class="lab-tab" th:if="${isAdd} or *{type == 1}"> <input id="type-cq" type="radio" name="type" value="1" th:checked="*{type == 1}" :duplex="@data.type"> <span class="tab checked"> <span class="partition-type pt-cq"></span> </span> </label> <label for="type-cs" class="lab-tab" th:if="${isAdd} or *{type == 2}"> <input id="type-cs" type="radio" name="type" value="2" th:checked="*{type == 2}" :duplex="@data.type" :click="@render.resetEngine(@data, 2)"> <span class="tab"> <span class="partition-type pt-cs"></span> </span> </label> <label for="type-cq3" class="lab-tab" th:if="${isAdd} or *{type == 3}"> <input id="type-cq3" type="radio" name="type" value="3" th:checked="*{type == 3}" :duplex="@data.type" :click="@render.resetEngine(@data, 3)"> <span class="tab"> <span class="partition-type pt-cq3"></span> </span> </label> <label for="type-sql" class="lab-tab" th:if="${isAdd} or *{type == 0}"> <input id="type-sql" type="radio" name="type" value="0" th:checked="*{type == 0}" :duplex="@data.type" :click="@render.resetEngine(@data, 0)"> <span class="tab"> <span class="partition-type pt-sql"></span> </span> </label> </div> </div> <div class="node-info"> <div class="node-info-name">模板名称：</div> <div class="node-info-value form"> <input class="form-control" placeholder="请输入模板名称" maxlength="16" th:field="*{name}" :duplex="@data.name|parseNull" :rules="{required: true, maxlength: 16}"> <p>1-16个字，请勿输入特殊符号</p> </div> </div> <div class="node-info" th:if="${isAdd} or *{type == 0}" th:classappend="*{type != 0?\'hide\':\'\'}" :attr="{class: @data.type==0?\'node-info\':\'hide\'}" :if="@data.type == 0"> <div class="node-info-name">游戏名称：</div> <div class="node-info-value form"> <input class="form-control" placeholder="请输入游戏名称" maxlength="16" th:field="*{gameName}" :duplex="@data.gameName|parseNull" :rules="{required: true, maxlength: 16}"> <p>1-16个字，请勿输入特殊符号</p> </div> </div> <div class="node-info" th:classappend="*{type == 0 or type == 3?\'\':\'hide\'}" :attr="{class: (@data.type == 3 || @data.type == 0)?\'node-info\':\'hide\'}" :if="@data.type == 3 || @data.type == 0"> <div class="node-info-name">充值方式：</div> <div class="node-info-value form"> <div class="info-value-sub"> <input class="form-control" placeholder="请输入充值方式" maxlength="16" th:field="*{rechargeWay}" :duplex="@data.rechargeWay" :rules="{required: @data.type == 0 || @data.type == 3}"> </div> <div class="info-value-sub"> <p>设置按 游戏账号 或 游戏角色充值，默认按 游戏账号 充值</p> </div> </div> </div> <div class="node-info" :if="@data.type == 1 || @data.type == 2" th:classappend="*{type == 1 or type == 2?\'\':\'hide\'}"> <div class="node-info-name">游戏币：</div> <div class="node-info-value box-nomargin"> <label for="yuanbao" class="label-box checkbox2"> <input id="yuanbao" type="radio" name="currency_name" th:checked="*{currencyName eq \'元宝\'}" value="元宝" data-command="GAMEGOLD + " :click="@currency"> <i class="radio default"></i>元宝 </label> <label for="jinbi" class="label-box checkbox2"> <input id="jinbi" type="radio" name="currency_name" th:checked="*{currencyName eq \'金币\'}" value="金币" data-command="give 金币" :click="@currency"> <i class="radio default"></i>金币 </label> <label for="jinyuan" class="label-box checkbox2" th:classappend="*{type == 2?\'\':\'hide\'}" :if="@data.type == 2" :attr="{class: @data.type == 1?\'hide\':\'label-box checkbox2\'}"> <input id="jinyuan" type="radio" name="currency_name" th:checked="*{currencyName eq \'金元\'}" value="金元" data-command="COLLECTPOINT + " :click="@currency"> <i class="radio default"></i>金元 </label> <label for="other" class="label-box checkbox2" th:with="isOther=*{currencyName ne \'元宝\'} and *{currencyName ne \'金币\'} and (*{currencyName eq \'金元\' and type ==1})"> <input id="other" type="radio" name="currency_name" th:checked="${isOther}" th:value="${isOther} ? *{currencyName} : \'\'" th:attr="data-command=${isOther} ? *{scriptCommand} : \'\'" :click="@currency"> <i class="radio default"></i>自定义 </label> </div> </div> <div class="node-info"> <div class="node-info-name">游戏币名称：</div> <div class="node-info-value form"> <input class="form-control width-140" type="text" maxlength="5" th:field="*{currencyName}" :duplex="@data.currencyName|parseNull" :rules="{required: true, maxlength: 5}"> <div th:if="${isAdd} or *{type == 1} or *{type == 2}" :if="@data.type == 1 || @data.type == 2"> <div class="node-info-name" style="width:auto">脚本命令：</div> <input class="form-control width-140" type="text" th:field="*{scriptCommand}" :duplex="@data.scriptCommand|parseNull" :rules="{required: true}"> </div> </div> </div> <div class="node-info"> <div class="node-info-name">兑换比例：</div> <div class="node-info-value form"> <input class="form-control width-140" type="text" th:field="*{ratio}" :duplex-number="@data.ratio" :rules="{digits: true, min: 1}"> <p>1元人民币可以兑换的游戏币数量</p> </div> </div> <div th:if="${isAdd} or *{type == 1 or type == 2}" :if="@data.type == 1 || @data.type == 2"> <div class="node-info"> <div class="node-info-name">充值ＮＰＣ：</div> <div class="node-info-value"> <table class="min-width600"> <thead> <tr> <th>NPC名称</th> <th>地图</th> <th>外观</th> <th>x坐标</th> <th>y坐标</th> <th>&nbsp;</th> </tr> </thead> <tbody th:class="${#lists.isEmpty(template.npcInfos)?\'hide\':\'\'}" :attr="{class: \'show\'}"> <tr :for="($index, item) in @data.npcInfos" :if="@item.type"> <td> <input class="form-control" type="text" :attr="{name: \'npcInfos[\'+$index+\'].name\'}" :duplex="@item.name" :rules="{required: true}"> <input type="hidden" :attr="{name: \'npcInfos[\'+$index+\'].type\'}" :duplex="@item.type"> </td> <td> <input class="form-control" size="6" type="text" :attr="{name: \'npcInfos[\'+$index+\'].map\'}" :duplex="@item.map" :rules="{required: true}"> </td> <td> <input class="form-control" size="6" type="text" :attr="{name: \'npcInfos[\'+$index+\'].looks\'}" :duplex-number="@item.looks" :rules="{required: true}"> </td> <td> <input class="form-control" size="4" type="text" :attr="{name: \'npcInfos[\'+$index+\'].x_axis\'}" :duplex-number="@item.x_axis" :rules="{number: true}"> </td> <td> <input class="form-control" size="4" type="text" :attr="{name: \'npcInfos[\'+$index+\'].y_axis\'}" :duplex-number="@item.y_axis" :rules="{number: true}"> </td> <td> <a href="javascript:;" class="btn btn-danger" :click="@dele(\'npcInfos\', $index)">删除</a> </td> </tr> </tbody> <tfoot> <tr> <td><a href="javascript:;" class="btn btn-success" :click="@add(\'npcInfos\', true)">添加</a></td> </tr> </tfoot> </table> </div> </div> <div class="node-info"> <div class="node-info-name">游戏引擎：</div> <div class="node-info-value" :if="@data.type == 1"> <select class="form-control" name="gameEngine" :change="@change" :duplex="@data.gameEngine" :rules="{notnull: true}"> <option value="">-请选择-</option> <option th:each="item:${gameEngines}" th:if="${item.type==1}" th:value="${item.engine}" th:text="${item.engine}" th:selected="${item.engine} == *{gameEngine}" th:attr="data-value=${item.command}"></option> </select> <div class="info-value-sub"> <p>其它游戏引擎请联系平台管理员进行添加</p> </div> </div> <div class="node-info-value" :if="@data.type == 2"> <select class="form-control" name="gameEngine" :change="@change" :duplex="@data.gameEngine" :rules="{notnull: true}"> <option value="">-请选择-</option> <option th:each="item:${gameEngines}" th:if="${item.type==2}" th:value="${item.engine}" th:text="${item.engine}" th:selected="${item.engine} == *{gameEngine}" th:attr="data-value=${item.command}"></option> </select> <div class="info-value-sub"> <p>其它游戏引擎请联系平台管理员进行添加</p> </div> </div> </div> <div class="node-info"> <div class="node-info-name">浏览器指令：</div> <div class="node-info-value"> <div class="info-value-sub"> <input class="form-control" placeholder="请输入浏览器指令" th:field="*{browserCommand}" :duplex="@data.browserCommand|parseNull" :rules="{required: true}"> </div> <div class="info-value-sub"> <p>不同的引擎打开浏览器的指令可能有差异，请查阅相关帮助文档</p> </div> </div> </div> </div> <div class="node-info"> <div class="node-info-name">最小金额：</div> <div class="node-info-value form"> <input class="form-control width-100" placeholder="最小充值金额" name="minAmount" :duplex-number="@data.minAmount" :rules="{digits: true, min: 0}"> <p>单笔订单允许最小充值金额</p> </div> </div> <div class="node-info"> <div class="node-info-name">最大金额：</div> <div class="node-info-value form"> <input class="form-control width-100" placeholder="最大充值金额" name="maxAmount" :duplex-number="@data.maxAmount" :rules="{digits: true, min: @data.minAmount+1}"> <p>单笔订单允许最大充值金额</p> </div> </div> </div> </div> <div class="content-node"> <div class="node-head"> <a href="javascript:;" class="close" :click="@nodeToggle"> <span class="pull-left-ie">激励赠送</span> <span class="arrow img-png"></span> </a> </div> <div class="node-body close"> <div class="node-info"> <div class="node-info-name">设置：</div> <div class="node-info-value"> <label th:for="${#ids.next(\'isContains\')}" class="label-box checkbox checkbox-min"> <input type="checkbox" th:field="*{isContains}" th:checked="*{isContains}"> <span class="box-left">渠道赠送包含激励赠送</span> <i class="check-right check"></i> </label> </div> </div> <div class="node-info"> <div class="node-info-name">赠送详情：</div> <div class="node-info-value form min-width350"> <div class="info-value-sub" :for="($index, item) in @data.incentives"> <div> <p>满：</p> <input class="form-control no-margin" size="5" type="text" :duplex="@item.amount" :attr="{name: \'incentives[\'+$index+\'].amount\'}" :rules="{required: true, digits: true, min: 1}"> <p class="tail">元</p> <p>赠送：</p> <input class="form-control no-margin" size="5" type="text" :duplex="@item.giveAmount" :attr="{name: \'incentives[\'+$index+\'].giveAmount\'}" :rules="{required: true, digits: true, min: 1}"> <p class="tail">元</p> </div> <a href="javascript:;" class="btn btn-danger" :click="@dele(\'incentives\', $index)">删除</a> </div> <div class="info-value-sub" id="add-incentive"> <a href="javascript:;" class="btn btn-success" :click="@add(\'incentives\')">添加</a> </div> </div> </div> </div> </div> <div th:class="*{type == 1 or type == 2?\'\':\'hide\'}" :if="@data.type == 1 || @data.type == 2" :attr="{class: (@data.type == 1 || @data.type == 2)?\'\':\'hide\'}"> <div class="content-node"> <div class="node-head"> <a href="javascript:;" class="close" :click="@nodeToggle"> <span class="pull-left-ie">附加赠送</span> <span class="arrow img-png"></span> </a> </div> <div class="node-body close"> <div class="node-info"> <div class="node-info-name">充值显示：</div> <div class="node-info-value"> <label th:for="${#ids.next(\'showAdditional\')}" class="label-box checkbox checkbox-min"> <input type="checkbox" th:field="*{showAdditional}" th:checked="*{showAdditional}"> <span class="box-left">显示附加赠送信息</span> <i class="check-right check"></i> </label> </div> </div> <div class="node-info"> <div class="node-info-name">附加详情：</div> <div class="node-info-value"> <table class="min-width700"> <thead> <tr> <th>附加奖励</th> <th>显示</th> <th>脚本命令</th> <th>赠送比例</th> <th>赠送方式</th> <th>&nbsp;</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.additionals"> <td> <input class="form-control" size="6" type="text" :duplex="@item.name" :attr="{name: \'additionals[\'+$index+\'].name\'}" :rules="{required: true}"> </td> <td> <label class="label-box checkbox2"> <input type="checkbox" :attr="{name: \'additionals[\'+$index+\'].show\', value: @item.show}" :duplex-checked="@item.show"> <i class="check"></i> </label> </td> <td> <input class="form-control" type="text" :duplex="@item.command" :attr="{name: \'additionals[\'+$index+\'].command\'}" :rules="{required: true}"> </td> <td> <input class="form-control number" size="4" type="text" :duplex="@item.ratio" :attr="{name: \'additionals[\'+$index+\'].ratio\'}" :rules="{required: true, digits: true, min: 1}"> </td> <td> <select class="form-control" :attr="{name: \'additionals[\'+$index+\'].type\'}" :duplex="@item.type"> <option value="0">关闭赠送</option> <option value="1">按充值金额赠送</option> <option value="2">充值金额 + 渠道赠送</option> <option value="3">充值金额 + 激励赠送</option> <option value="4">充值金额 + 激励赠送 + 渠道赠送</option> </select> </td> <td> <a href="javascript:;" class="btn btn-danger" :click="@dele(\'additionals\', $index)">删除</a> </td> </tr> </tbody> <tfoot> <tr> <td><a href="javascript:;" class="btn btn-success" :click="@add(\'additionals\')">添加</a></td> </tr> </tfoot> </table> </div> </div> </div> </div> <div class="content-node"> <div class="node-head"> <a href="javascript:;" class="close" :click="@nodeToggle"> <span class="pull-left-ie">积分赠送</span> <span class="arrow img-png"></span> </a> </div> <div class="node-body close"> <div class="node-info"> <div class="node-info-name">充值显示：</div> <div class="node-info-value"> <label th:for="${#ids.next(\'showIntegral\')}" class="label-box checkbox checkbox-min"> <input type="checkbox" th:field="*{showIntegral}" th:checked="*{showIntegral}"> <span class="box-left">显示积分赠送信息</span> <i class="check-right check"></i> </label> </div> </div> <div class="node-info"> <div class="node-info-name">积分详情：</div> <div class="node-info-value"> <table class="min-width700"> <thead> <tr> <th>积分奖励</th> <th>显示</th> <th>文件路径</th> <th>赠送比例</th> <th>赠送方式</th> <th>&nbsp;</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.integrals"> <td> <input class="form-control" size="6" type="text" :duplex="@item.name" :attr="{name: \'integrals[\'+$index+\'].name\'}" :rules="{required: true}"> </td> <td> <label class="label-box checkbox2"> <input type="checkbox" :attr="{name: \'integrals[\'+$index+\'].show\', value: @item.show}" :duplex-checked="@item.show"> <i class="check"></i> </label> </td> <td> <input class="form-control" type="text" :duplex="@item.file" :attr="{name: \'integrals[\'+$index+\'].file\'}" :rules="{required: true}"> </td> <td> <input class="form-control number" size="4" type="text" :duplex="@item.ratio" :attr="{name: \'integrals[\'+$index+\'].ratio\'}" :rules="{required: true, digits: true, min: 1}"> </td> <td> <select class="form-control" :attr="{name: \'integrals[\'+$index+\'].type\'}" :duplex="@item.type"> <option value="0">关闭赠送</option> <option value="1">按充值金额赠送</option> <option value="2">充值金额 + 渠道赠送</option> <option value="3">充值金额 + 激励赠送</option> <option value="4">充值金额 + 激励赠送 + 渠道赠送</option> </select> </td> <td> <a href="javascript:;" class="btn btn-danger" :click="@dele(\'integrals\', $index)">删除</a> </td> </tr> </tbody> <tfoot> <tr> <td><a href="javascript:;" class="btn btn-success" :click="@add(\'integrals\')">添加</a></td> </tr> </tfoot> </table> </div> </div> </div> </div> <div class="content-node"> <div class="node-head"> <a href="javascript:;" class="close" :click="@nodeToggle"> <span class="pull-left-ie">装备赠送</span> <span class="arrow img-png"></span> </a> </div> <div class="node-body close"> <div class="node-info"> <div class="node-info-name">充值显示：</div> <div class="node-info-value"> <label th:for="${#ids.next(\'showEquip\')}" class="label-box checkbox checkbox-min"> <input type="checkbox" th:field="*{showEquip}" th:checked="*{showEquip}"> <span class="box-left">显示装备赠送信息</span> <i class="check-right check"></i> </label> </div> </div> <div class="node-info"> <div class="node-info-name">赠送方式：</div> <div class="node-info-value box-nomargin"> <label th:for="${#ids.next(\'equipType\')}" class="label-box checkbox2"> <input type="radio" th:field="*{equipType}" value="0" th:checked="*{equipType==0}"> <i class="radio default"></i>关闭赠送 </label> <label th:for="${#ids.next(\'equipType\')}" class="label-box checkbox2"> <input type="radio" th:field="*{equipType}" value="1" th:checked="*{equipType==1}"> <i class="radio default"></i>按充值金额赠送 </label> <label th:for="${#ids.next(\'equipType\')}" class="label-box checkbox2"> <input type="radio" th:field="*{equipType}" value="2" th:checked="*{equipType==2}"> <i class="radio default"></i>充值金额 + 渠道赠送 </label> <label th:for="${#ids.next(\'equipType\')}" class="label-box checkbox2"> <input type="radio" th:field="*{equipType}" value="3" th:checked="*{equipType==3}"> <i class="radio default"></i>充值金额 +激励赠送 </label> <label th:for="${#ids.next(\'equipType\')}" class="label-box checkbox2"> <input type="radio" th:field="*{equipType}" value="4" th:checked="*{equipType==4}"> <i class="radio default"></i>充值金额 + 激励赠送 + 渠道赠送 </label> </div> </div> <div class="node-info"> <div class="node-info-name">装备详情：</div> <div class="node-info-value"> <table class="min-width500"> <thead> <tr> <th>&nbsp;</th> <th>金额(元)</th> <th>脚本命令</th> <th>赠送装备</th> <th>&nbsp;</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.equips"> <th class="text-right">满：</th> <td> <input class="form-control" size="6" type="text" :duplex="@item.amount" :attr="{name: \'equips[\'+$index+\'].amount\'}" :rules="{required: true, digits: true, min: 1}"> </td> <td> <input class="form-control" size="4" type="text" :duplex="@item.command" :attr="{name: \'equips[\'+$index+\'].command\'}" :rules="{required: true}"> </td> <td> <input class="form-control number" type="text" :duplex="@item.name" :attr="{name: \'equips[\'+$index+\'].name\'}" :rules="{required: true}" style="width:240px"> </td> <td> <a href="javascript:;" class="btn btn-danger" :click="@dele(\'equips\', $index)">删除</a> </td> </tr> </tbody> <tfoot> <tr> <td colspan="6"><a href="javascript:;" class="btn btn-success" :click="@add(\'equips\')">添加</a></td> </tr> </tfoot> </table> </div> </div> </div> </div> <div class="content-node"> <div class="node-head"> <a href="javascript:;" class="close" :click="@nodeToggle"> <span class="pull-left-ie">红包赠送</span> <span class="arrow img-png"></span> </a> </div> <div class="node-body close"> <div class="node-info"> <div class="node-info-name">设置：</div> <div class="node-info-value"> <label th:for="${#ids.next(\'redPacketState\')}" class="label-box checkbox checkbox-min"> <input type="checkbox" th:field="*{redPacketState}" th:checked="*{redPacketState}"> <span class="box-left">开启红包赠送</span> <i class="check-right check"></i> </label> </div> </div> <div class="node-info"> <div class="node-info-name">选项：</div> <div class="node-info-value box-nomargin"> <label th:for="${#ids.next(\'redPacketAdditional\')}" class="label-box checkbox2"> <input type="checkbox" th:field="*{redPacketAdditional}" th:checked="*{redPacketAdditional}"> <i class="check"></i>开启附加赠送 </label> <label th:for="${#ids.next(\'redPacketIntegral\')}" class="label-box checkbox2"> <input type="checkbox" th:field="*{redPacketIntegral}" th:checked="*{redPacketIntegral}"> <i class="check"></i>开启积分赠送 </label> <label th:for="${#ids.next(\'redPacketEquip\')}" class="label-box checkbox2"> <input type="checkbox" th:field="*{redPacketEquip}" th:checked="*{redPacketEquip}"> <i class="check"></i>开启装备赠送 </label> </div> </div> <div class="node-info"> <div class="node-info-name">红包ＮＰＣ：</div> <div class="node-info-value"> <table class="min-width600"> <thead> <tr> <th>NPC名称</th> <th>地图</th> <th>外观</th> <th>x坐标</th> <th>y坐标</th> <th>&nbsp;</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.npcInfos" :if="!@item.type"> <td> <input class="form-control" type="text" :duplex="@item.name" :attr="{name: \'npcInfos[\'+$index+\'].name\'}" :rules="{required: true}"> <input type="hidden" :attr="{name: \'npcInfos[\'+$index+\'].type\'}" :duplex="@item.type"> </td> <td> <input class="form-control" size="6" type="text" :duplex="@item.map" :attr="{name: \'npcInfos[\'+$index+\'].map\'}" :rules="{required: true}"> </td> <td> <input class="form-control" size="6" type="text" :duplex="@item.looks" :attr="{name: \'npcInfos[\'+$index+\'].looks\'}" :rules="{required: true}"> </td> <td> <input class="form-control" size="4" type="text" :duplex="@item.x_axis" :attr="{name: \'npcInfos[\'+$index+\'].x_axis\'}" :rules="{required: true, number: true}"> </td> <td> <input class="form-control" size="4" type="text" :duplex="@item.y_axis" :attr="{name: \'npcInfos[\'+$index+\'].y_axis\'}" :rules="{required: true, number: true}"> </td> <td> <a href="javascript:;" class="btn btn-danger" :click="@dele(\'npcInfos\', $index)">删除</a> </td> </tr> </tbody> <tfoot> <tr> <td><a href="javascript:;" class="btn btn-success" :click="@add(\'npcInfos\', false)">添加</a></td> </tr> </tfoot> </table> </div> </div> <div class="node-info info-overflow-640"> <div class="node-info-name">红包详情：</div> <div class="node-info-value form"> <div class="info-value-sub" :for="($index, item) in @data.redPackets"> <div> <p>满：</p> <input class="form-control no-margin" size="5" type="text" :duplex="@item.amount" :attr="{name: \'redPackets[\'+$index+\'].amount\'}" :rules="{required: true, digits: true, min: 1}"> <p class="tail">元</p> <p>随机赠送：</p> <input class="form-control no-margin" size="5" type="text" :duplex="@item.startAmount" :attr="{name: \'redPackets[\'+$index+\'].startAmount\'}" :rules="{required: true, digits: true, min: 1}"> <p>&nbsp;-&nbsp;</p> <input class="form-control no-margin" size="5" type="text" :duplex="@item.endAmount" :attr="{name: \'redPackets[\'+$index+\'].endAmount\'}" :rules="{required: true, digits: true, min: @item.startAmount}"> <p class="tail">元</p> </div> <a href="javascript:;" class="btn btn-danger" :click="@dele(\'redPackets\', $index)">删除</a> </div> <div class="info-value-sub sub-add-div"> <a href="javascript:;" class="btn btn-success" style="margin:0 3px" :click="@add(\'redPackets\')">添加</a> </div> </div> </div> </div> </div> </div> <div class="content-node"> <div class="node-head"> <a href="javascript:;" class="close" :click="@nodeToggle"> <span class="pull-left-ie">充值渠道</span> <span class="arrow img-png"></span> </a> </div> <div class="node-body close"> <div class="min-width990"> <div class="node-info"> <div class="node-info-name">设置：</div> <div class="node-info-value box-nomargin"> <label th:for="${#ids.next(\'giveState\')}" class="label-box checkbox checkbox-min"> <input type="checkbox" th:field="*{giveState}" :duplex-checked="@data.giveState"> <span class="box-left">开启充值赠送</span> <i class="check-right check"></i> </label> <label th:if="false" th:for="${#ids.next(\'cardState\')}" class="label-box checkbox checkbox-min"> <input type="checkbox" th:field="*{cardState}" :duplex-checked="@data.cardState"> <span class="box-left">开启点卡充值</span> <i class="check-right check"></i> </label> </div> </div> <div class="node-info"> <div class="node-info-name">选项：</div> <div class="node-info-value box-nomargin"> <label th:each="item:${#numbers.sequence(0,1)}" th:for="${#ids.next(\'giveWay\')}" class="label-box checkbox2"> <input type="radio" name="giveWay" th:field="*{giveWay}" th:value="${item==1}" :duplex="@data.giveWay"> <i class="radio default"></i><span th:text="${item == 0 ? \'按固定比例赠送\':\'按充值金额赠送\'}"></span> </label> <div class="node-info-name no-float" style="width:180px;display:inline-block">一键设置： <label class="label-box" for="switch-onekey"> <input type="checkbox" id="switch-onekey" :duplex-checked="@oneKey" checked="checked"> <span class="box-switch"><i></i></span> </label> </div> </div> </div> <div class="node-info no-margin pull-left" :visible="@data.giveWay+\'\' == \'false\'"> <div class="node-info-name text-name"></div> <div class="node-info-value"> <div class="table-box"> <div style="width:600px"> <div class="template-pro" :for="($index, item) in @data.products" :visible="@item.product.type != 1"> <label class="pull-left text-name" :text="@item.product.name + \'：\'"></label> <input type="hidden" :duplex="@item.product.id" :attr="{name: \'products[\'+$index+\'].product.id\'}"> <input type="text" class="form-control" size="3" :duplex="@item.rate" :input="@setVal(\'rate\', @item.product.type)" :attr="{name: \'products[\'+$index+\'].rate\'}" :rules="{digits: true, min: 0}"> </div> </div> </div> </div> </div> <div :visible="@data.giveWay+\'\' == \'true\'"> <div class="node-info no-margin pull-left" :for="($index, item) in @data.products" :visible="@item.product.type != 1"> <div class="node-info-name text-name" :text="@item.product.name + \'：\'"></div> <div class="node-info-value"> <div class="table-box"> <div class="rate-nav"> <table class="table-rate pull-left"> <tbody> <tr> <td :for="($index2, rate) in @item.amountRates" :class="$index2==0?\'longest\':\'\'"> <span class="no-margin" :text="$index2==0?\'不足\':\'满\'"></span> <input type="text" class="form-control" size="3" :duplex-number="@rate.amount" :rules="{digits: true, min: 0}" :input="@setVal(\'amount\', @item.product.type, $index2)" :attr="{name: \'products[\'+$index+\'].amountRates[\'+$index2+\'].amount\'}"/>元 <input type="text" class="form-control" size="3" :duplex-number="@rate.rate" :rules="{digits: true, min: 0}" :input="@setVal(\'rate\', @item.product.type, $index2)" :attr="{name: \'products[\'+$index+\'].amountRates[\'+$index2+\'].rate\'}"/>%</td> </tr> </tbody> </table> </div> <div> <table class="option"> <tr> <td> <button class="btn btn-danger" type="button" :click="@deleteRate($index, @item.product.type)">删除</button> <button class="btn btn-success" type="button" :click="@add(\'products\', $index, @item.product.type)">添加</button> </td> </tr> </table> </div> </div> </div> </div> </div> </div> </div> </div> <div class="content-node text-center no-font"> <button type="button" class="btn btn-large" :click="@save">保　存</button> <button th:if="${!isAdd}" type="button" class="btn btn-large btn-primary" :click="@saveas">另存为</button> </div> </form> </div>'},function(t,e){t.exports='<form id="cy-paging-search" :controller="template"> <div class="load-box spa"></div> <div class="content-body no-padding" id="table-content-ie"> <input type="hidden" name="type" value=""> <ul class="nav" style="padding:10px 0 0"> <li><a data-nav-name="type" data-nav-value="" href="javascript:;" :click="@checkNav" class="tab active">全　部</a></li> <li><a data-nav-name="type" data-nav-value="1" href="javascript:;" :click="@checkNav" class="tab">传　奇</a></li> <li><a data-nav-name="type" data-nav-value="2" href="javascript:;" :click="@checkNav" class="tab">传　世</a></li> <li><a data-nav-name="type" data-nav-value="3" href="javascript:;" :click="@checkNav" class="tab">传奇三</a></li> <li><a data-nav-name="type" data-nav-value="0" href="javascript:;" :click="@checkNav" class="tab">通用</a></li> <li class="pull-right"> <a class="btn btn-success" href="#/template/add" style="margin:5px 0 0">添加</a> </li> </ul> <table class="table table-hover"> <wbr is="ms-pagesize" ms-widget="{totalElements:@data.totalElements,change: @change}"/> <thead :skip="true"> <tr> <th>模板名称</th> <th>游戏币</th> <th>兑换比例</th> <th>分区个数</th> <th>充值赠送</th> <th>操作</th> </tr> </thead> <tbody> <tr :for="($index, item) in @data.content"> <td :text="@item.name"></td> <td :text="@item.currencyName"></td> <td :text="@item.ratio|number(0)"></td> <td :text="@item.partitions.length"></td> <td> <label class="label-box no-margin no-float" :click="@state(@item.id, $event)"> <input type="hidden" :class="@item.giveState?\'checked\':\'\'"/> <span class="box-switch"><i></i></span> </label> </td> <td> <div class="btn-group"> <a class="btn btn-min" :attr="{href:\'template/edit_\'+@item.id+\'.html\'}">编辑</a> <button class="btn btn-min btn-danger" type="button" :attr="{disabled: @item.partitions.length>0}" :click="@item.partitions.length>0?\'\':@dele(@item.id)">删除</button> </div> </td> </tr> <tr :if="@data.totalElements < 1"><td colspan="6">暂无记录！</td></tr> </tbody> <wbr is="ms-paging" ms-widget="{pages: @pages(6)}"/> </table> </div> </form>'},function(t,e){},,,,,,,,,,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){}]);